{"version":3,"sources":["webpack:///./templates/gallery-item-template.hbs","webpack:///./js/refs.js","webpack:///./js/util/errors.js","webpack:///./apiServises/api-variables.js","webpack:///./js/data/poster-sizes.js","webpack:///./js/image-sizes.js","webpack:///./apiServises/api.js","webpack:///./js/show-trailer.js","webpack:///./js/util/success.js","webpack:///./js/authFirebase.js","webpack:///./js/localStorageWatched.js","webpack:///./js/localStorageQueue.js","webpack:///./js/dataToFirebase.js","webpack:///./js/util/warnings.js","webpack:///./js/dataFromFirebase.js","webpack:///./js/mainFirebase.js","webpack:///./js/modal-single-film.js","webpack:///./js/update-markup.js","webpack:///./js/pagination.js","webpack:///./js/util/infos.js","webpack:///./js/Films-by-query.js","webpack:///./js/main.js","webpack:///./js/search-films.js","webpack:///./js/search-list.js","webpack:///./js/btnActive.js","webpack:///./js/navigation.js","webpack:///./js/spinner.js","webpack:///./js/footer-modal-handler.js","webpack:///./js/theme.js","webpack:///./js/back-to-top.js","webpack:///./templates/search-list.hbs","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","refs","searchForm","document","querySelector","gallery","galleryContainer","searchGallery","searchList","input","libraryBtn","homeBtn","header","formWrap","containerBtnLibrary","logo","getElementById","buttonModal","divModal","spinner","spinnerInversion","body","footer","toolbar","modalThemeFilm","modalThemeFooter","stateCheckbox","paginator","signInBtn","signOutBtn","userInfo","modal","logoBtn","error404Handler","error","text","delay","mouseReset","closer","remove","destroy","error500Handler","API_KEY","BASE_URL","PICTURE_REPLACER","mobile","tablet","desktop","getImageSize","obj","documentElement","clientWidth","searchQuery","getUrl","page","urls","searchUrl","this","query","popylarFilmsUrl","getUpdatedFilms","url","axios","get","request","status","getFullFilmsInfo","filmsData","films","map","updatedFilms","updateInfo","console","log","getFilmiIdList","idList","promises","id","Promise","all","getUpdatedPopularFilms","getFullPopularFilms","showFilmDetails","results","getFilmTrailer","idTrailer","reduce","filmsList","film","release_date","slice","genres","updateGenres","poster_path","posterSizes","push","updateOneFilmInfo","updateFilm","name","original_title","toUpperCase","popularity","Math","floor","ceil","filmIdList","genresList","genre","index","search","resetPage","trailer","key","showTrailer","buttonOpenRef","buttonCloseRef","backdropRef","trailerModalContainer","video","videoSrc","src","modalOverlay","onCloseModal","classList","onBackDropClick","event","target","currentTarget","addEventListener","add","successLoginHandler","success","successLogoutHandler","successAddQueueHandler","successAddWatchedHandler","readUserData","userId","firebase","database","ref","once","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","onAuthStateChanged","user","displayName","photoURL","email","uid","innerHTML","provider","GoogleAuthProvider","signInWithPopup","then","result","credential","accessToken","imageUrl","currentUser","checkUserID","exists","set","username","profile_picture","writeUserData","setTimeout","catch","code","errorMessage","message","signOut","getListFilmsWatched","currentList","localStorage","getItem","watch","JSON","parse","item","addFilmHandlerWatched","indexOf","String","chekDuplicates","filmToAdd","filmWatched","setItem","stringify","updateList","getListFilmsQueue","queue","addFilmHandlerQueue","filmQueue","updateWatchedList","movieId","update","watched","updateQueueList","warningRemoveQueueHandler","alert","warningRemoveWatchedHandler","setModalBtnWatchStyles","button","hiddenBtn","val","includes","dataToFirebase","movieIndex","splice","indexToDelete","removeFromWatch","setModalBtnQueueStyles","removeFromQueue","getMoviesWatched","authoried","api","updatedWatched","getMoviesQueue","queued","updatedQueued","defaults","baseURL","showModal","dataset","apiService","markup","filmTpl","insertAdjacentHTML","updateData","dataFromWatched","dataFromQueue","addBtnWatch","removeBtnWatch","addBtnQueue","removeBtnQueue","contains","mainFirebase","dataFromFirebase","nodeName","MicroModal","show","disableScroll","disableFocus","updateGalleryMarkup","filmCardTpl","options","totalItems","itemsPerPage","visiblePages","firstItemClassName","lastItemClassName","addItems","array","emptyFilmListHandler","info","length","total_pages","Pagination","on","evt","window","scrollTo","top","offsetHeight","behavior","start","showFilmsByQuery","handlePopularFilmsByClick","loadPopularFilms","preventDefault","form","elements","value","textContent","debounce","filmList","updatedFilmList","searchListTpl","btnWatched","btnQueue","renderWatched","toHome","opts","lines","width","radius","scale","corners","speed","rotate","animation","direction","color","fadeColor","left","shadow","zIndex","className","position","opts2","footerModalHandler","selector","onShow","onClose","Spinner","spin","Theme","checked","addBackToTop","diameter","backgroundColor","textColor","scrollDuration","lambda"],"mappings":"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","file":"main.9be33e48f7e485674aa7.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li data-micromodal-trigger=\\\"modal-1\\\" class=\\\"grid__item gallery__film\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":79},\"end\":{\"line\":2,\"column\":85}}}) : helper)))\n    + \">\\r\\n\\r\\n    <img class=\\\"gallery-film__image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":42},\"end\":{\"line\":4,\"column\":57}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":64},\"end\":{\"line\":4,\"column\":82}}}) : helper)))\n    + \"\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":92},\"end\":{\"line\":4,\"column\":98}}}) : helper)))\n    + \" />\\r\\n    <h3 class=\\\"gallery-film__title\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":44},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":51},\"end\":{\"line\":5,\"column\":69}}}) : helper)))\n    + \"</h3>\\r\\n    <p class=\\\"gallery-film__features\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":46},\"end\":{\"line\":6,\"column\":52}}}) : helper)))\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":53},\"end\":{\"line\":6,\"column\":63}}}) : helper)))\n    + \" | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":66},\"end\":{\"line\":6,\"column\":82}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n\\r\\n\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":11,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  gallery: document.querySelector('.js-gallery'),\r\n  galleryContainer: document.querySelector('.gallery__list'),\r\n  searchGallery: document.querySelector('.search-list'),\r\n  searchList: document.querySelector('.js-search-list'),\r\n  input: document.querySelector('.js-input'),\r\n  libraryBtn: document.querySelector('#libraryBtn'),\r\n  homeBtn: document.querySelector('#homeBtn'),\r\n  header: document.querySelector('#header'),\r\n  formWrap: document.querySelector('#formWrap'),\r\n  containerBtnLibrary: document.querySelector('#containerBtnLibrary'),\r\n  logo: document.getElementById('logo'),\r\n  buttonModal: document.querySelector('.btn-trigger'),\r\n  divModal: document.querySelector('.modal__container'),\r\n  spinner: document.querySelector('.spinner'),\r\n  spinnerInversion: document.querySelector('.spinner-inversion'),\r\n  body: document.querySelector('body'),\r\n  footer: document.querySelector('.footer'),\r\n  toolbar: document.querySelector('.toolbar'),\r\n  modalThemeFilm: document.querySelector('.modal__theme-film'),\r\n  modalThemeFooter: document.querySelector('.modal__theme-footer'),\r\n  stateCheckbox: document.getElementById('theme-switch-toggle'),\r\n  paginator: document.getElementById('pagination'),\r\n  signInBtn: document.querySelector('#sign_in'),\r\n  signOutBtn: document.querySelector('#sign_out'),\r\n  userInfo: document.querySelector('.user-info'),\r\n  modal: document.querySelector('.modal'),\r\n  logoBtn: document.querySelector('#logo'),\r\n};\r\n\r\nexport default refs;\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { error } from '@pnotify/core';\r\n\r\nfunction error404Handler() {\r\n  error({\r\n    text:\r\n      'Some issues with the request answer! (Status 404) Please, try again later!',\r\n    delay: 8000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction error500Handler() {\r\n  error({\r\n    text:\r\n      'Some issues with the server! (Status 500) Please, try to reload the page!',\r\n    delay: 8000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nexport { error404Handler, error500Handler };\r\n","const API_KEY = '44fd846a8fbd886b31f763260ef2b77b';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\nconst PICTURE_REPLACER = `https://via.placeholder.com/274x398?text=THE+PICTURE+IS+WANTED`;\r\nconst IMAGE_BASE_URL = 'https://themoviedb.org/t/p/';\r\nexport { API_KEY, BASE_URL, PICTURE_REPLACER, IMAGE_BASE_URL };\r\n","export default {\r\n  mobile: 'w342',\r\n  tablet: 'w500',\r\n  desktop: 'w780',\r\n};\r\n","function getImageSize(obj) {\r\n  let imageSize = '';\r\n  if (\r\n    document.documentElement.clientWidth >= 320 &&\r\n    document.documentElement.clientWidth < 768\r\n  ) {\r\n    imageSize = obj.mobile;\r\n    return imageSize;\r\n  }\r\n  if (\r\n    document.documentElement.clientWidth >= 768 &&\r\n    document.documentElement.clientWidth < 1024\r\n  ) {\r\n    imageSize = obj.tablet;\r\n    return imageSize;\r\n  }\r\n  if (document.documentElement.clientWidth >= 1024) {\r\n    imageSize = obj.desktop;\r\n    return imageSize;\r\n  }\r\n}\r\n\r\nexport default getImageSize;\r\n","import axios from 'axios';\r\nimport { error404Handler, error500Handler } from '../js/util/errors';\r\nimport {\r\n  API_KEY,\r\n  BASE_URL,\r\n  PICTURE_REPLACER,\r\n  IMAGE_BASE_URL,\r\n} from './api-variables';\r\n// import backdropSizes from '../js/data/backdrop-sizes';\r\nimport posterSizes from '../js/data/poster-sizes';\r\nimport getImageSize from '../js/image-sizes';\r\n\r\nexport default {\r\n  searchQuery: '',\r\n\r\n  // Функція повертає об'єкт url для основних запитів\r\n  getUrl(page) {\r\n    const urls = {};\r\n    urls.searchUrl = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query==${this.query}&page=${page}&include_adult=false`;\r\n    urls.popylarFilmsUrl = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}&page=${page}`;\r\n    return urls;\r\n  },\r\n\r\n  async getUpdatedFilms(url) {\r\n    try {\r\n      // 404, 500 Error Handlers\r\n      const request = await axios.get(url);\r\n\r\n      if (request.status === 404) {\r\n        error404Handler();\r\n      }\r\n      if (request.status === 500) {\r\n        error500Handler();\r\n      }\r\n\r\n      // отримуємо масив результатів запитів для отримання повної інформації про фільми\r\n      const filmsData = await this.getFullFilmsInfo(url);\r\n      // проходимося по отриманому масиві і вибираємо всі об'єкти з повною інформацією про фільми\r\n      const films = filmsData.map(({ data }) => data);\r\n      // Для кожного об'єкта оновлюємо необхідну в ньому інформацію\r\n      const updatedFilms = this.updateInfo(films);\r\n      // console.log(updatedFilms);\r\n      return updatedFilms;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  // Функція повертає всю інформацію по id фільма, знайденого за query\r\n  async getFullFilmsInfo(url) {\r\n    try {\r\n      // 404, 500 Error Handlers\r\n      const request = await axios.get(url);\r\n\r\n      if (request.status === 404) {\r\n        error404Handler();\r\n      }\r\n      if (request.status === 500) {\r\n        error500Handler();\r\n      }\r\n      // Вибираємо id всіх отриманих об'єктів масиву за певним запитом\r\n      const idList = await this.getFilmiIdList(url);\r\n      // для кожного об'єкта, за його id, робимо ще один запит для отримання повної інформації про фільм\r\n      const promises = idList.map(id =>\r\n        axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`),\r\n      );\r\n      // отримуємо масив промісів з об'єктами, в яких є повна інформація про фільм\r\n      const films = await Promise.all(promises);\r\n      return films;\r\n    } catch (error) {}\r\n  },\r\n\r\n  // getUpdatedPopularFilms -  вывод популярных фильмов за неделю\r\n  async getUpdatedPopularFilms() {\r\n    try {\r\n      const filmsData = await this.getFullPopularFilms();\r\n      const films = filmsData.map(({ data }) => data);\r\n      const updatedFilms = this.updateInfo(films);\r\n      return updatedFilms;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  //showFilmDetails(id) - показ детальной инфы о фильме при показе модалке, айдишник добавлен в ли каждого фильма data-id\r\n  async showFilmDetails(id) {\r\n    try {\r\n      const { data } = await axios.get(\r\n        `${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`,\r\n      );\r\n\r\n      const results = await data;\r\n      //добавила фунцкию для получения ключа для показа трейлера для вывода в шаблон\r\n      const idTrailer = await this.getFilmTrailer(id);\r\n      // const updateFilm = this.updateInfo(results);\r\n      return { idTrailer, ...results };\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  // Функція отримує масив об'єктів з повною інформацією про фільми, оновлює необхідні дані для ставки в шаблон і повертає новий масив об'єктів з необхідними даними\r\n  updateInfo(data) {\r\n    // проходимося по масиву об'єктів, для кожного об'єкта робимо необхідні зміни і додаємо їх в новий масив\r\n    const updatedInfo = data.reduce((filmsList, film) => {\r\n      // перетворюємо release_date в формат '***' (рік)\r\n      film.release_date = film.release_date.slice(0, -6);\r\n\r\n      // film.popularity = Math.floor(Math.ceil(film.popularity * 10)) / 10;\r\n      // перетворюємо масив об'єктів з жанрами з формате [{ id: name},..., { id: name} ] в формат [name, ..., name]\r\n      film.genres = this.updateGenres(film.genres);\r\n      // додаємо змінені об'єкти в  масив\r\n      if (!film.poster_path) {\r\n        film.poster_path = PICTURE_REPLACER;\r\n      } else {\r\n        film.poster_path = `${IMAGE_BASE_URL}${getImageSize(posterSizes)}/${\r\n          film.poster_path\r\n        }`;\r\n      }\r\n      filmsList.push(film);\r\n      return filmsList;\r\n    }, []);\r\n    return updatedInfo;\r\n  },\r\n\r\n  // Функція оновлює дані для одного фільма\r\n  updateOneFilmInfo(data) {\r\n    const updateFilm = { ...data };\r\n    // перетворюємо release_date в формат '***' (рік)\r\n    updateFilm.release_date = updateFilm.release_date.slice(0, -6);\r\n    // перетворюємо масив об'єктів з жанрами з формате [{ id: name},..., { id: name} ] в формат [name, ..., name]\r\n    updateFilm.genres = updateFilm.genres.map(({ name }) => name);\r\n    // Робимо заголовок великими\r\n    updateFilm.original_title = updateFilm.original_title.toUpperCase();\r\n    // Округлюємо популярність до десятих\r\n    updateFilm.popularity =\r\n      Math.floor(Math.ceil(updateFilm.popularity * 10)) / 10;\r\n    // додаємо змінені об'єкти в  масив\r\n    if (!updateFilm.poster_path) {\r\n      updateFilm.poster_path = PICTURE_REPLACER;\r\n    } else {\r\n      updateFilm.poster_path = `${IMAGE_BASE_URL}${getImageSize(posterSizes)}/${\r\n        updateFilm.poster_path\r\n      }`;\r\n    }\r\n    return updateFilm;\r\n  },\r\n\r\n  // Функція повертає id всіх фільмів\r\n  async getFilmiIdList(url) {\r\n    try {\r\n      // 404, 500 Error Handlers\r\n      const request = await axios.get(url);\r\n      if (request.status === 404) {\r\n        error404Handler();\r\n      }\r\n      if (request.status === 500) {\r\n        error500Handler();\r\n      }\r\n\r\n      const { data } = await axios.get(url);\r\n      const { results } = await data;\r\n      const filmIdList = results.map(({ id }) => id);\r\n      return filmIdList;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  //согласно макета если жанров 3 -высвечиваются все 3 жанра,если больше - 2 слова плюс Other\r\n  updateGenres(genres) {\r\n    const result = genres.reduce((genresList, genre, index) => {\r\n      const { name } = genre;\r\n      if (index === 3) {\r\n        const tooManyGenres = 'Other';\r\n        genresList[2] = tooManyGenres;\r\n        return genresList;\r\n      } else if (index > 3) {\r\n        return genresList;\r\n      }\r\n\r\n      genresList.push(name);\r\n      return genresList;\r\n    }, []);\r\n\r\n    return result;\r\n  },\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  },\r\n  set query(search) {\r\n    this.searchQuery = search;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n\r\n  // запрос по айди фильма для получения ключей всех видео о фильме\r\n  async getFilmTrailer(id) {\r\n    const { data } = await axios.get(\r\n      `/movie/${id}/videos?api_key=${API_KEY}&language=en-US`,\r\n    );\r\n    const { results } = data;\r\n    //оставила самый популярный трейлер для показа\r\n    const trailer = results[0];\r\n\r\n    return trailer.key;\r\n  },\r\n};\r\n","import refs from './refs';\r\n\r\nconst container = refs.divModal;\r\n\r\nexport function showTrailer() {\r\n  const buttonOpenRef = container.querySelector('button[data-action=open]');\r\n  const buttonCloseRef = container.querySelector('button[data-action=close]');\r\n  const backdropRef = container.querySelector('.trailer-backdrop');\r\n  const trailerModalContainer = container.querySelector('.trailer');\r\n  const video = container.querySelector('.video');\r\n  const videoSrc = video.src;\r\n  const modalOverlay = document.querySelector('.modal__overlay');\r\n\r\n  buttonOpenRef.addEventListener('click', onOpenModal);\r\n  buttonCloseRef.addEventListener('click', onCloseModal);\r\n  backdropRef.addEventListener('click', onBackDropClick);\r\n  modalOverlay.addEventListener('click', onBackDropClick);\r\n\r\n  function onOpenModal() {\r\n    video.src = videoSrc;\r\n    trailerModalContainer.classList.add('show-modal');\r\n  }\r\n\r\n  function onCloseModal() {\r\n    video.src = '';\r\n    trailerModalContainer.classList.remove('show-modal');\r\n  }\r\n\r\n  function onBackDropClick(event) {\r\n    if (event.target === event.currentTarget) {\r\n      onCloseModal();\r\n    }\r\n  }\r\n}\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { success } from '@pnotify/core';\r\n\r\nfunction successLoginHandler() {\r\n  success({\r\n    text: 'Logged-in successfully',\r\n    delay: 1000,\r\n    mouseReset: true,\r\n    closer: true,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction successLogoutHandler() {\r\n  success({\r\n    text: 'Logged-out successfully',\r\n    delay: 1000,\r\n    mouseReset: true,\r\n    closer: true,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction successAddQueueHandler() {\r\n  success({\r\n    text: 'You added this film to Queue!',\r\n    delay: 2000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction successAddWatchedHandler() {\r\n  success({\r\n    text: 'You added this film to Watch!',\r\n    delay: 2000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction successRemoveQueueHandler() {\r\n  success({\r\n    text: 'Film was successfully from Queue',\r\n    delay: 2000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction successRemoveWatchedHandler() {\r\n  success({\r\n    text: 'Film was successfully removed from Watched',\r\n    delay: 2000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nexport {\r\n  successLoginHandler,\r\n  successLogoutHandler,\r\n  successAddQueueHandler,\r\n  successAddWatchedHandler,\r\n  successRemoveQueueHandler,\r\n  successRemoveWatchedHandler,\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport refs from './refs';\r\nimport { successLoginHandler, successLogoutHandler } from './util/success';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyDQrwCAXRj5z9sNE9veCql6qr3bmszhNFY',\r\n  authDomain: 'filmoteka-project.firebaseapp.com',\r\n  databaseURL: 'https://filmoteka-project-default-rtdb.firebaseio.com',\r\n  projectId: 'filmoteka-project',\r\n  storageBucket: 'filmoteka-project.appspot.com',\r\n  messagingSenderId: '1026378840836',\r\n  appId: '1:1026378840836:web:8e08307292eb95ad9f2e51',\r\n  measurementId: 'G-JWBVEWQR7T',\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\ninitApp();\r\n\r\nrefs.signInBtn.addEventListener('click', googleSignIn);\r\nrefs.signOutBtn.addEventListener('click', googleSignOut);\r\n\r\nfunction initApp() {\r\n  firebase.auth().onAuthStateChanged(function (user) {\r\n    if (user) {\r\n      // SIGN IN\r\n      refs.signOutBtn.classList.remove('hide');\r\n      refs.signInBtn.classList.add('hide');\r\n      const displayName = user.displayName;\r\n      const photoURL = user.photoURL;\r\n      const email = user.email;\r\n      const uid = user.uid;\r\n      refs.userInfo.innerHTML = `<img class=\"user-img\" src=\"${photoURL}\"> \r\n            <div class=\"user-block\">\r\n              <p class=\"user-name\">${displayName}</p>\r\n              <p class=\"user-email\">${email}</p>\r\n            </div>`;\r\n      console.log(`Current user: ${displayName}`, `userId: ${uid}`);\r\n      readUserData(uid);\r\n    } else {\r\n      // SIGN OUT\r\n      refs.signInBtn.classList.remove('hide');\r\n      refs.signOutBtn.classList.add('hide');\r\n      refs.userInfo.innerHTML = '';\r\n    }\r\n  });\r\n}\r\n\r\nfunction googleSignIn() {\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n  firebase\r\n    .auth()\r\n    .signInWithPopup(provider)\r\n    .then(result => {\r\n\r\n      const credential = result.credential;\r\n      // This gives you a Google Access Token. You can use it to access the Google API.\r\n      const token = credential.accessToken;\r\n      // The signed-in user info.\r\n      const user = result.user;\r\n      const userId = user.uid;\r\n      const name = user.displayName;\r\n      const email = user.email;\r\n      const imageUrl = user.photoURL;\r\n\r\n      console.log(user);\r\n      console.log('Success!');\r\n\r\n      // Перевірка чи є вже юзер в БД, якшо неа то добавляє\r\n      checkUserID().then(data => {\r\n        if (data.exists()) {\r\n          console.log('User exist in database');\r\n          // Завантажує данні з БД\r\n          readUserData(userId);\r\n        } else {\r\n          console.log('User NOT exist in database');\r\n          writeUserData(userId, name, email, imageUrl);\r\n        }\r\n      });\r\n\r\n      //! Sign in notification\r\n      setTimeout(successLoginHandler, 1000);\r\n    })\r\n    .catch(error => {\r\n      // Handle Errors here.\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      // The email of the user's account used.\r\n      const email = error.email;\r\n      // The firebase.auth.AuthCredential type that was used.\r\n      const credential = error.credential;\r\n      console.log(errorMessage);\r\n      console.log('Failed!');\r\n    });\r\n}\r\n\r\nfunction googleSignOut() {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      console.log('Sign-out successful.');\r\n      //   window.location.href = 'index.html';\r\n      refs.userInfo.innerHTML = '';\r\n    })\r\n    .catch(error => {\r\n      console.log('ERRROR!');\r\n    });\r\n\r\n\r\n\r\n  // !Sign out notification\r\n  setTimeout(successLogoutHandler, 500);\r\n}\r\n\r\n// ОТРИМУЄ ДАННІ ЮЗЕРА ПО АЙДІ З БД\r\nfunction checkUserID() {\r\n  const userId = firebase.auth().currentUser.uid;\r\n  return firebase\r\n    .database()\r\n    .ref('/users/' + userId)\r\n    .once('value');\r\n}\r\n\r\n// ЗАПИСУЄ ОСНОВНУ ІНФУ ПО ЮЗЕР В БД, ТІЛЬКИ ПРИ РЕЄСТРАЦІЇ ПЕРШОМУ ВХОДІ\r\n\r\nfunction writeUserData(userId, name, email, imageUrl) {\r\n  firebase\r\n    .database()\r\n    .ref('users/' + userId)\r\n    .set(\r\n      {\r\n        username: name,\r\n        email: email,\r\n        profile_picture: imageUrl,\r\n      },\r\n      error => {\r\n        if (error) {\r\n          console.log('FAILED!!!');\r\n        } else {\r\n          console.log('SUCCESS');\r\n        }\r\n      },\r\n    );\r\n}\r\n\r\nfunction readUserData(userId) {\r\n  return firebase\r\n    .database()\r\n    .ref('/users/' + userId)\r\n    .once('value');\r\n}\r\n\r\nexport { initApp, readUserData, checkUserID };\r\n","import refs from './refs';\r\n\r\nconst getListFilmsWatched = () => {\r\n  const currentList = localStorage.getItem('watch');\r\n  const watch = JSON.parse(currentList);\r\n  if (!watch) {\r\n    return;\r\n  }\r\n  const listWatch = watch.map(item => {\r\n    return item['filmWatched'];\r\n  });\r\n  return listWatch;\r\n};\r\n\r\nconst chekDuplicates = id => {\r\n  const listfilms = getListFilmsWatched();\r\n  if (listfilms.indexOf(String(id)) === -1) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst updateList = (currentList, id) => {\r\n  const watch = JSON.parse(currentList);\r\n  const filmToAdd = { filmWatched: id };\r\n  watch.push(filmToAdd);\r\n  localStorage.setItem('watch', JSON.stringify(watch));\r\n};\r\nconst addFilmHandlerWatched = id => {\r\n  const currentList = localStorage.getItem('watch');\r\n  if (!currentList) {\r\n    const watch = [{ filmWatched: id }];\r\n    localStorage.setItem('watch', JSON.stringify(watch));\r\n  } else {\r\n    if (chekDuplicates(id)) {\r\n      updateList(currentList, id);\r\n    }\r\n  }\r\n};\r\n\r\nconst deleteFilmHandlerWatched = id => {\r\n  const filmList = getListFilmsWatched();\r\n  const indexToDelete = filmList.indexOf(id);\r\n  const currentList = localStorage.getItem('watch');\r\n  const watch = JSON.parse(currentList);\r\n  watch.splice(indexToDelete, 1);\r\n  localStorage.setItem('watch', JSON.stringify(watch));\r\n};\r\nexport { addFilmHandlerWatched, deleteFilmHandlerWatched, getListFilmsWatched };\r\n","import refs from './refs';\r\n\r\nconst getListFilmsQueue = () => {\r\n  const currentList = localStorage.getItem('queue');\r\n\r\n  const queue = JSON.parse(currentList);\r\n  if (!queue) {\r\n    return;\r\n  }\r\n  const listQueue = queue.map(item => {\r\n    return item['filmQueue'];\r\n  });\r\n  return listQueue;\r\n};\r\n\r\nconst chekDuplicates = id => {\r\n  const listfilms = getListFilmsQueue();\r\n  if (listfilms.indexOf(String(id)) === -1) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst updateList = (currentList, id) => {\r\n  const queue = JSON.parse(currentList);\r\n  const filmToAdd = { filmQueue: id };\r\n  queue.push(filmToAdd);\r\n  localStorage.setItem('queue', JSON.stringify(queue));\r\n};\r\nconst addFilmHandlerQueue = id => {\r\n  const currentList = localStorage.getItem('queue');\r\n  if (!currentList) {\r\n    const queue = [{ filmQueue: id }];\r\n    localStorage.setItem('queue', JSON.stringify(queue));\r\n  } else {\r\n    if (chekDuplicates(id)) {\r\n      updateList(currentList, id);\r\n    }\r\n  }\r\n};\r\n\r\nconst deleteFilmHandlerQueue = id => {\r\n  const filmList = getListFilmsQueue();\r\n  const indexToDelete = filmList.indexOf(id);\r\n  const currentList = localStorage.getItem('queue');\r\n  const queue = JSON.parse(currentList);\r\n  queue.splice(indexToDelete, 1);\r\n  localStorage.setItem('queue', JSON.stringify(queue));\r\n};\r\nexport { addFilmHandlerQueue, deleteFilmHandlerQueue, getListFilmsQueue };\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport refs from './refs';\r\nimport * as auth from './authFirebase';\r\nimport {\r\n  successAddQueueHandler,\r\n  successAddWatchedHandler,\r\n} from './util/success';\r\n\r\nimport {\r\n  addFilmHandlerWatched,\r\n  deleteFilmHandlerWatched,\r\n  getListFilmsWatched,\r\n} from './localStorageWatched';\r\nimport {\r\n  addFilmHandlerQueue,\r\n  deleteFilmHandlerQueue,\r\n  getListFilmsQueue,\r\n} from './localStorageQueue';\r\n\r\n//ЗБЕРЕЖЕННЯ АЙДІШНІКА В БД\r\nfunction addToWatch() {\r\n  const currentUser = firebase.auth().currentUser;\r\n\r\n  if (currentUser) {\r\n    let uid = currentUser.uid;\r\n    let movieId = localStorage.getItem('firebase-id');\r\n\r\n    auth\r\n      .readUserData(uid)\r\n      .then(data => data.val())\r\n      .then(data => {\r\n        let watched = data.watched || [];\r\n        if (watched.includes(movieId)) {\r\n          return;\r\n        }\r\n        updateWatchedList(uid, [...watched, movieId]);\r\n      });\r\n  } else {\r\n    let movieId = localStorage.getItem('firebase-id');\r\n    addFilmHandlerWatched(movieId);\r\n  }\r\n  setTimeout(successAddWatchedHandler, 300);\r\n}\r\n\r\n//ЗБЕРЕЖЕННЯ АЙДІШНІКА В БД\r\nfunction addToQueue() {\r\n  const currentUser = firebase.auth().currentUser;\r\n  if (currentUser) {\r\n    let uid = currentUser.uid;\r\n    let movieId = localStorage.getItem('firebase-id');\r\n\r\n    auth\r\n      .readUserData(uid)\r\n      .then(data => data.val())\r\n      .then(data => {\r\n        let queue = data.queue || [];\r\n        if (queue.includes(movieId)) {\r\n          return;\r\n        }\r\n        updateQueueList(uid, [...queue, movieId]);\r\n      });\r\n  } else {\r\n    let movieId = localStorage.getItem('firebase-id');\r\n    addFilmHandlerQueue(movieId);\r\n  }\r\n  setTimeout(successAddQueueHandler, 300);\r\n}\r\n\r\n//ФУНКЦІЯ ДЛЯ ОНОВЛЕННЯ СПИСКУ АЙДІШНІКІВ В БД\r\nfunction updateWatchedList(userId, movieId) {\r\n  firebase\r\n    .database()\r\n    .ref('users/' + userId)\r\n    .update(\r\n      {\r\n        watched: movieId,\r\n      },\r\n      error => {\r\n        if (error) {\r\n          console.log('FAIL!');\r\n        } else {\r\n          console.log('DATA UPDATE SUCCESSFULLY');\r\n        }\r\n      },\r\n    );\r\n}\r\n\r\n//ФУНКЦІЯ ДЛЯ ОНОВЛЕННЯ СПИСКУ АЙДІШНІКІВ В БД\r\nfunction updateQueueList(userId, movieId) {\r\n  firebase\r\n    .database()\r\n    .ref('users/' + userId)\r\n    .update(\r\n      {\r\n        queue: movieId,\r\n      },\r\n      error => {\r\n        if (error) {\r\n          console.log('FAIL!');\r\n        } else {\r\n          console.log('DATA UPDATE SUCCESSFULLY');\r\n        }\r\n      },\r\n    );\r\n}\r\n\r\nexport { addToWatch, updateWatchedList, addToQueue, updateQueueList };\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert } from '@pnotify/core';\r\n\r\nfunction warningSignInHandler() {\r\n  alert({\r\n    text: 'You are already logged-in!',\r\n    delay: 3000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction warningRemoveQueueHandler() {\r\n  alert({\r\n    text: 'You removed this film from Queue!',\r\n    delay: 3000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nfunction warningRemoveWatchedHandler() {\r\n  alert({\r\n    text: 'You removed this film from Watch!!',\r\n    delay: 3000,\r\n    mouseReset: true,\r\n    closer: false,\r\n    remove: true,\r\n    destroy: true,\r\n  });\r\n}\r\n\r\nexport { warningSignInHandler, warningRemoveQueueHandler, warningRemoveWatchedHandler };\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport axios from 'axios';\r\nconst apiKey = '44fd846a8fbd886b31f763260ef2b77b';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\nimport refs from './refs.js';\r\nimport * as auth from './authFirebase';\r\nimport * as dataToFirebase from './dataToFirebase.js';\r\nimport {\r\n  warningRemoveQueueHandler,\r\n  warningRemoveWatchedHandler,\r\n} from './util/warnings';\r\n\r\nimport api from '../apiServises/api';\r\n\r\nimport {\r\n  addFilmHandlerWatched,\r\n  deleteFilmHandlerWatched,\r\n  getListFilmsWatched,\r\n} from './localStorageWatched';\r\nimport {\r\n  addFilmHandlerQueue,\r\n  deleteFilmHandlerQueue,\r\n  getListFilmsQueue,\r\n} from './localStorageQueue';\r\n\r\n//ФУКНЦІЯ ЯКА ПЕРЕВІРЯЄ ЧИ Є В БД АЙДІШНИК ПО ЯКОМУ КЛІКНУЛИ\r\n//І РОБИТЬ ВІДПОВІДНІ СТИЛІ ДЛЯ КНОПОК\r\nfunction setModalBtnWatchStyles(event, button, hiddenBtn) {\r\n  if (event.target === button) {\r\n    button.classList.add('hide');\r\n    hiddenBtn.classList.remove('hide');\r\n    dataToFirebase.addToWatch();\r\n    console.log(123);\r\n    return;\r\n  }\r\n\r\n  if (event.target === hiddenBtn) {\r\n    button.classList.remove('hide');\r\n    hiddenBtn.classList.add('hide');\r\n    removeFromWatch();\r\n    return;\r\n  }\r\n}\r\n\r\nfunction setModalBtnQueueStyles(event, button, hiddenBtn) {\r\n  if (event.target === button) {\r\n    button.classList.add('hide');\r\n    hiddenBtn.classList.remove('hide');\r\n    dataToFirebase.addToQueue();\r\n  }\r\n\r\n  if (event.target === hiddenBtn) {\r\n    button.classList.remove('hide');\r\n    hiddenBtn.classList.add('hide');\r\n    removeFromQueue();\r\n  }\r\n}\r\n\r\n// ФУНКЦІЯ ДЛЯ ЩОБ ОТРИМАТИ АЙДІШНИКИ З БД І ПО НИМ ЗРОБИТИ ЗАПИТ НА СЕРВЕР\r\n// ТА ВІД РЕНДЕРИТИ РОЗМІТКУ ПО ОТРИМАНИХ ДАННИХ\r\nasync function getMoviesWatched(uid = false) {\r\n  const currentUser = firebase.auth().currentUser;\r\n  // console.log(currentUser);\r\n  let watched = getListFilmsWatched();\r\n\r\n  if (currentUser) {\r\n    const authoried = await auth.readUserData(uid);\r\n    const data = await authoried.val();\r\n    watched = await data.watched;\r\n  }\r\n  const promises = watched.map(id =>\r\n    api.showFilmDetails(id).then(data => api.updateOneFilmInfo(data)),\r\n  );\r\n  // отримуємо масив промісів з об'єктами, в яких є повна інформація про фільм\r\n  const updatedWatched = await Promise.all(promises);\r\n  console.log(updatedWatched);\r\n  return updatedWatched;\r\n}\r\n\r\nasync function getMoviesQueue(uid = false) {\r\n  const currentUser = firebase.auth().currentUser;\r\n  let queued = getListFilmsQueue();\r\n\r\n  if (currentUser) {\r\n    const authoried = await auth.readUserData(uid);\r\n    const data = await authoried.val();\r\n    queued = await data.queue;\r\n  }\r\n  const promises = queued.map(id =>\r\n    api.showFilmDetails(id).then(data => api.updateOneFilmInfo(data)),\r\n  );\r\n  // отримуємо масив промісів з об'єктами, в яких є повна інформація про фільм\r\n  const updatedQueued = await Promise.all(promises);\r\n  return updatedQueued;\r\n}\r\n\r\n// ФУНКЦІЯ ЯКА ЧИСТИТЬ РОЗМІТКУ\r\n// ВИДАЛЯЄ АЙДІШНИК ФІЛЬМА НА ЯКОМУ КЛІКНУЛИ КНОПКУ З БД\r\n// І РЕНДЕРИТЬ НОВУ РОЗМІТКУ ПО АЙДІШНИКАХ ЯКІ ЛИШИЛИСЬ В БД\r\nfunction removeFromWatch() {\r\n  const currentUser = firebase.auth().currentUser;\r\n  if (currentUser) {\r\n    // refs.gallery.innerHTML = '';\r\n    let uid = currentUser.uid;\r\n    let movieId = localStorage.getItem('firebase-id');\r\n    auth\r\n      .readUserData(uid)\r\n      .then(data => data.val())\r\n      .then(data => {\r\n        if (data.watched) {\r\n          let watched = data.watched || [];\r\n          if (watched.includes(movieId)) {\r\n            let movieIndex = watched.indexOf(movieId);\r\n            watched.splice(movieIndex, 1);\r\n            console.log('NEW WATCHED', watched);\r\n          }\r\n          dataToFirebase.updateWatchedList(uid, [...watched]);\r\n          // myLibrary.renderWatched();\r\n        }\r\n      });\r\n    // console.log(watched);\r\n  } else {\r\n    let movieId = localStorage.getItem('firebase-id');\r\n    deleteFilmHandlerWatched(movieId);\r\n  }\r\n  setTimeout(warningRemoveWatchedHandler, 300);\r\n}\r\n\r\nfunction removeFromQueue() {\r\n  const currentUser = firebase.auth().currentUser;\r\n  if (currentUser) {\r\n    // refs.gallery.innerHTML = '';\r\n    let uid = currentUser.uid;\r\n    let movieId = localStorage.getItem('firebase-id');\r\n    auth\r\n      .readUserData(uid)\r\n      .then(data => data.val())\r\n      .then(data => {\r\n        if (data.queue) {\r\n          let queue = data.queue || [];\r\n          if (queue.includes(movieId)) {\r\n            let movieIndex = queue.indexOf(movieId);\r\n            queue.splice(movieIndex, 1);\r\n            console.log('NEW QUEUE', queue);\r\n          }\r\n          dataToFirebase.updateQueueList(uid, [...queue]);\r\n          // myLibrary.renderQueue();\r\n        }\r\n      });\r\n    // console.log(queue);\r\n  } else {\r\n    let movieId = localStorage.getItem('firebase-id');\r\n    deleteFilmHandlerQueue(movieId);\r\n  }\r\n  setTimeout(warningRemoveQueueHandler, 300);\r\n}\r\n\r\nexport {\r\n  getMoviesWatched,\r\n  removeFromWatch,\r\n  getMoviesQueue,\r\n  removeFromQueue,\r\n  setModalBtnWatchStyles,\r\n  setModalBtnQueueStyles,\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport refs from './refs.js';\r\nimport * as auth from './authFirebase';\r\nimport * as dataToFirebase from './dataToFirebase.js';\r\nimport * as dataFromFirebase from './dataFromFirebase';\r\n\r\nimport {\r\n  addFilmHandlerQueue,\r\n  deleteFilmHandlerQueue,\r\n  getListFilmsQueue,\r\n} from './localStorageQueue';\r\nimport {\r\n  addFilmHandlerWatched,\r\n  deleteFilmHandlerWatched,\r\n  getListFilmsWatched,\r\n} from './localStorageWatched';\r\n\r\nconst container = refs.divModal;\r\n\r\n// container.addEventListener('click', modalClick)\r\n\r\n//ФУНКЦІЯ ДЛЯ ОБРОБКИ КЛІКІВ ПО КНОПКАХ В МОДАЛЦІ\r\nfunction modalMagic() {\r\n  const addBtnWatch = container.querySelector('button[data-id=addwatched]');\r\n  const removeBtnWatch = container.querySelector(\r\n    'button[data-id=removewatched]',\r\n  );\r\n  const addBtnQueue = container.querySelector('button[data-id=addqueue]');\r\n  const removeBtnQueue = container.querySelector('button[data-id=removequeue]');\r\n  // console.log(addBtnWatch)\r\n\r\n  container.addEventListener('click', event => {\r\n    dataFromFirebase.setModalBtnWatchStyles(event, addBtnWatch, removeBtnWatch);\r\n    dataFromFirebase.setModalBtnQueueStyles(event, addBtnQueue, removeBtnQueue);\r\n  });\r\n}\r\n// }\r\n\r\n//ФУНКЦІЯ ДЛЯ ПЕРЕВІРКИ ЧИ Є АЙДІШНИК В БД І ВІДПОВІДНО\r\n//ЯКІ КНОПКИ ПОКАЗУВАТИ В МОДАЛЦІ\r\nfunction checkMovieInStorage() {\r\n  let currentUser = firebase.auth().currentUser;\r\n  if (!currentUser) {\r\n    return;\r\n  }\r\n\r\n  let id = localStorage.getItem('firebase-id');\r\n\r\n  auth\r\n    .readUserData(currentUser.uid)\r\n    .then(data => data.val())\r\n    .then(data => {\r\n      if (data.watched || data.queue) {\r\n        console.log('we are in!');\r\n        const dataFromWatched = data.watched || [];\r\n        const dataFromQueue = data.queue || [];\r\n        console.log('ok');\r\n\r\n        const addBtnWatch = container.querySelector(\r\n          'button[data-id=addwatched]',\r\n        );\r\n        const removeBtnWatch = container.querySelector(\r\n          'button[data-id=removewatched]',\r\n        );\r\n        const addBtnQueue = container.querySelector('button[data-id=addqueue]');\r\n        const removeBtnQueue = container.querySelector(\r\n          'button[data-id=removequeue]',\r\n        );\r\n\r\n        if (dataFromWatched.includes(id)) {\r\n          if (!addBtnWatch.classList.contains('hide')) {\r\n            addBtnWatch.classList.add('hide');\r\n            removeBtnWatch.classList.remove('hide');\r\n            // addToWatched.textContent = \"ALREADY IN WATCHED\";\r\n            // addToWatched.setAttribute(\"disabled\", 'true');\r\n          }\r\n        } else {\r\n          addBtnWatch.classList.remove('hide');\r\n          removeBtnWatch.classList.add('hide');\r\n        }\r\n        if (dataFromQueue.includes(id)) {\r\n          if (!addBtnQueue.classList.contains('hide')) {\r\n            addBtnQueue.classList.add('hide');\r\n            removeBtnQueue.classList.remove('hide');\r\n            // addToQueue.textContent = \"ALREADY IN QUEUE\";\r\n            // addToQueue.setAttribute(\"disabled\", 'true');\r\n          }\r\n        } else {\r\n          addBtnQueue.classList.remove('hide');\r\n          removeBtnQueue.classList.add('hide');\r\n        }\r\n      }\r\n    });\r\n}\r\nfunction checkMovieInLocalStorage(\r\n  addBtnWatch,\r\n  removeBtnWatch,\r\n  addBtnQueue,\r\n  removeBtnQueue,\r\n) {\r\n  let id = localStorage.getItem('firebase-id');\r\n  const dataFromWatched = getListFilmsWatched() || [];\r\n  const dataFromQueue = getListFilmsQueue() || [];\r\n\r\n  if (dataFromWatched.includes(id)) {\r\n    if (!addBtnWatch.classList.contains('hide')) {\r\n      addBtnWatch.classList.add('hide');\r\n      removeBtnWatch.classList.remove('hide');\r\n    }\r\n  } else {\r\n    addBtnWatch.classList.remove('hide');\r\n    removeBtnWatch.classList.add('hide');\r\n  }\r\n  if (dataFromQueue.includes(id)) {\r\n    if (!addBtnQueue.classList.contains('hide')) {\r\n      addBtnQueue.classList.add('hide');\r\n      removeBtnQueue.classList.remove('hide');\r\n    }\r\n  } else {\r\n    addBtnQueue.classList.remove('hide');\r\n    removeBtnQueue.classList.add('hide');\r\n  }\r\n}\r\nexport { checkMovieInStorage, modalMagic, checkMovieInLocalStorage };\r\n","import MicroModal from 'micromodal';\r\nimport filmTpl from '../templates/modal.hbs';\r\nimport refs from './refs';\r\nimport apiService from '../apiServises/api';\r\nimport { showTrailer } from './show-trailer';\r\nimport * as mainFirebase from './mainFirebase';\r\n\r\nrefs.gallery.addEventListener('click', openModal);\r\n\r\nexport function openModal(event) {\r\n  if (event.target.nodeName === 'UL') {\r\n    return;\r\n  }\r\n  showModal(event);\r\n\r\n  MicroModal.show('modal-1', {\r\n    // onShow: modal => console.info(`${modal.id} is shown`), // [1]\r\n    // onClose: modal => console.info(`${modal.id} is hidden`), // [2]\r\n    disableScroll: true, // [6]\r\n    disableFocus: true, // [7]\r\n  });\r\n}\r\n\r\nexport function showModal(event) {\r\n  const element = event.target;\r\n  const id = element.dataset.id;\r\n  localStorage.setItem('firebase-id', id);\r\n  // mainFirebase.checkMovieInStorage(id);\r\n  // console.log(id);\r\n  apiService\r\n    .showFilmDetails(id)\r\n    .then(data => apiService.updateOneFilmInfo(data))\r\n    //  .then(console.log)\r\n    .then(data => updateData(data))\r\n    .then(data => {\r\n      mainFirebase.checkMovieInStorage();\r\n      const container = refs.divModal;\r\n      const addBtnWatch = container.querySelector('button[data-id=addwatched]');\r\n      const removeBtnWatch = container.querySelector(\r\n        'button[data-id=removewatched]',\r\n      );\r\n      const addBtnQueue = container.querySelector('button[data-id=addqueue]');\r\n      const removeBtnQueue = container.querySelector(\r\n        'button[data-id=removequeue]',\r\n      );\r\n      mainFirebase.checkMovieInLocalStorage(\r\n        addBtnWatch,\r\n        removeBtnWatch,\r\n        addBtnQueue,\r\n        removeBtnQueue,\r\n      );\r\n      return data;\r\n    })\r\n    .then(data => {\r\n      mainFirebase.modalMagic();\r\n      return data;\r\n    })\r\n    .then(showTrailer);\r\n  refs.divModal.innerHTML = '';\r\n}\r\n\r\nfunction updateData(data) {\r\n  const markup = filmTpl(data);\r\n  refs.divModal.insertAdjacentHTML('beforeend', markup);\r\n  return markup;\r\n}\r\n","import filmCardTpl from '../templates/gallery-item-template.hbs';\r\nimport refs from './refs';\r\n\r\nfunction updateGalleryMarkup(films) {\r\n  const markup = filmCardTpl(films);\r\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n  return markup;\r\n}\r\n\r\nexport default updateGalleryMarkup;\r\n","import Pagination from 'tui-pagination';\r\nimport 'tui-pagination/dist/tui-pagination.css';\r\nimport api from '../apiServises/api';\r\nimport updateGalleryMarkup from './update-markup';\r\nimport axios from 'axios';\r\nimport { BASE_URL, API_KEY } from '../apiServises/api-variables';\r\nimport refs from './refs';\r\n\r\nconst startPage = 1;\r\nconst options = {\r\n  totalItems: 1,\r\n  itemsPerPage: 1,\r\n  visiblePages: 3,\r\n  page: 1,\r\n  firstItemClassName: 'tui-first-child',\r\n  lastItemClassName: 'tui-last-child',\r\n};\r\n\r\nconst addItems = array => {\r\n  if (\r\n    document.documentElement.clientWidth >= 320 &&\r\n    document.documentElement.clientWidth < 768\r\n  ) {\r\n    return array.map(film => film).slice(0, 4);\r\n  }\r\n  if (\r\n    document.documentElement.clientWidth >= 768 &&\r\n    document.documentElement.clientWidth < 1024\r\n  ) {\r\n    return array.map(film => film).slice(0, 8);\r\n  }\r\n  if (document.documentElement.clientWidth >= 1024) {\r\n    return array.map(film => film).slice(0, 9);\r\n  }\r\n};\r\n\r\nconst addPagination = () => {\r\n  const pagination = new Pagination('pagination', options);\r\n  pagination.on('beforeMove', async evt => {\r\n    const { page } = evt;\r\n    const data = await api.getUpdatedFilms(api.getUrl(page).popylarFilmsUrl);\r\n    const results = addItems(data);\r\n    console.log(results);\r\n    if (results) {\r\n      refs.gallery.innerHTML = '';\r\n\r\n      refs.spinner.classList.remove('hide');\r\n      window.scrollTo({\r\n        top: document.documentElement.offsetHeight,\r\n        behavior: 'smooth',\r\n      });\r\n      updateGalleryMarkup(results);\r\n      refs.spinner.classList.add('hide');\r\n    } else {\r\n      return false;\r\n    }\r\n  });\r\n};\r\n\r\nconst start = async () => {\r\n  const { data } = await axios.get(api.getUrl(startPage).popylarFilmsUrl);\r\n  const { total_pages } = await data;\r\n  options.totalItems = total_pages;\r\n\r\n  addPagination();\r\n};\r\n\r\nstart();\r\n\r\nexport { startPage, addItems };\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { info } from '@pnotify/core';\r\n\r\nfunction emptyFilmListHandler() {\r\n  info({\r\n    text: 'No matches found. Please, try another search query!',\r\n    delay: 4000,\r\n    mouseReset: true,\r\n    closer: true,\r\n  });\r\n}\r\n\r\nexport { emptyFilmListHandler };\r\n","import updateGalleryMarkup from './update-markup';\r\nimport api from '../apiServises/api';\r\nimport refs from './refs';\r\nimport { addItems } from './pagination';\r\nimport { emptyFilmListHandler } from './util/infos';\r\n\r\nasync function showFilmsByQuery() {\r\n  const data = await api.getUpdatedFilms(api.getUrl(1).searchUrl);\r\n        // Notification\r\n      if (data.length === 0) {\r\n        emptyFilmListHandler();\r\n      }\r\n  const results = addItems(data);\r\n  updateGalleryMarkup(results);\r\n  refs.spinner.classList.add('hide');\r\n  refs.spinnerInversion.classList.add('hide');\r\n}\r\nexport default showFilmsByQuery;\r\n","import apiService from '../apiServises/api';\r\nimport updateGalleryMarkup from './update-markup';\r\nimport refs from './refs';\r\nimport { addItems } from './pagination';\r\n\r\nrefs.logoBtn.addEventListener('click', handlePopularFilmsByClick);\r\nrefs.homeBtn.addEventListener('click', handlePopularFilmsByClick);\r\n\r\nfunction handlePopularFilmsByClick() {\r\n  refs.gallery.innerHTML = '';\r\n  refs.spinner.classList.remove('hide');\r\n  // apiService.resetPage();\r\n  loadPopularFilms();\r\n}\r\n\r\nasync function loadPopularFilms() {\r\n  const data = await apiService.getUpdatedFilms(\r\n    apiService.getUrl(1).popylarFilmsUrl,\r\n  );\r\n  const results = addItems(data);\r\n  updateGalleryMarkup(results);\r\n  refs.spinner.classList.add('hide');\r\n  refs.spinnerInversion.classList.add('hide');\r\n}\r\n\r\nloadPopularFilms();\r\n","import api from '../apiServises/api';\r\nimport showFilmsByQuery from './Films-by-query';\r\nimport refs from './refs';\r\nrefs.searchForm.addEventListener('submit', onFormSubmit);\r\n\r\nfunction onFormSubmit(event) {\r\n  event.preventDefault();\r\n  refs.searchList.classList.add('is-hidden');\r\n  const form = event.currentTarget;\r\n  api.query = form.elements.query.value;\r\n  refs.gallery.textContent = '';\r\n\r\n  const theme = localStorage.getItem('Theme');\r\n  if (theme === 'light-theme') {\r\n    refs.spinner.classList.remove('hide');\r\n  } else {\r\n    refs.spinnerInversion.classList.remove('hide');\r\n  }\r\n  api.resetPage();\r\n  showFilmsByQuery();\r\n}\r\n","import refs from './refs';\r\nimport debounce from 'lodash.debounce';\r\nimport api from '../apiServises/api';\r\nimport searchListTpl from '../templates/search-list.hbs';\r\n import { showModal } from '../js/modal-single-film';\r\nimport MicroModal from 'micromodal';\r\n\r\nrefs.input.addEventListener('input', debounce(predicationSearch, 500));\r\n\r\n\r\nfunction predicationSearch() {\r\n  console.log('work');\r\n  api.searchQuery = refs.input.value;\r\n\r\n  refs.searchList.innerHTML = '';\r\n  if (!refs.input.value) {\r\n    refs.searchList.classList.add('is-hidden');\r\n    return;\r\n  }\r\n  api.getUpdatedFilms(api.getUrl().searchUrl).then(filmList => {\r\n    refs.searchList.classList.remove('is-hidden');\r\n    if (!filmList.length) {\r\n      //вывести нотификашку\r\n      refs.searchList.classList.add('is-hidden');\r\n      return;\r\n    }\r\n    const updatedFilmList = filmList.slice(0, 5);\r\n    const markup = searchListTpl(updatedFilmList);\r\n    refs.searchList.insertAdjacentHTML('beforeend', markup);\r\n    })\r\n}\r\n\r\n\r\nrefs.searchGallery.addEventListener('click', openModal);\r\n\r\nexport function openModal(event) {\r\n  if (event.target.nodeName !== 'LI') {\r\n    return;\r\n  }\r\n  showModal(event);\r\n\r\n  MicroModal.show('modal-1', {\r\n    // onShow: modal => console.info(`${modal.id} is shown`), // [1]\r\n    // onClose: modal => console.info(`${modal.id} is hidden`), // [2]\r\n    disableScroll: true, // [6]\r\n    disableFocus: true, // [7]\r\n  });\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport refs from './refs';\r\nimport * as dataFromFirebase from './dataFromFirebase';\r\nimport updateGalleryMarkup from './update-markup';\r\n\r\nconst btnWatched = document.querySelector('.btnWatched');\r\nconst btnQueue = document.querySelector('.btnQueue');\r\n\r\nbtnQueue.addEventListener('click', renderQueue);\r\nbtnWatched.addEventListener('click', renderWatched);\r\n\r\nrefs.libraryBtn.addEventListener('click', showMyLibrary);\r\n\r\n//ПОКАЗУЄ БІБЛІОТЕКУ ФІЛЬМІВ\r\nfunction showMyLibrary() {\r\n  renderWatched();\r\n}\r\n\r\n// РЕНДЕР ПЕРЕГЛЯНУТИХ ПО АЙДІШНИКАХ З БД\r\nfunction renderWatched() {\r\n  onActive();\r\n  refs.gallery.innerHTML = '';\r\n  if (firebase.auth().currentUser) {\r\n    dataFromFirebase\r\n      .getMoviesWatched(firebase.auth().currentUser.uid)\r\n      .then(films => updateGalleryMarkup(films));\r\n  } else {\r\n    dataFromFirebase\r\n      .getMoviesWatched()\r\n      .then(films => updateGalleryMarkup(films));\r\n  }\r\n\r\n  // const movieCard = document.querySelector('.movie-card')\r\n  // console.log(movieCard);\r\n}\r\n\r\n// РЕНДЕР ТИХ ШО В ЧЕРЗІ ПО АЙДІШНИКАХ З БД\r\nfunction renderQueue() {\r\n  addActive();\r\n  refs.gallery.innerHTML = '';\r\n  if (firebase.auth().currentUser) {\r\n    dataFromFirebase\r\n      .getMoviesQueue(firebase.auth().currentUser.uid)\r\n      .then(films => updateGalleryMarkup(films));\r\n  } else {\r\n    dataFromFirebase.getMoviesQueue().then(films => updateGalleryMarkup(films));\r\n  }\r\n}\r\n\r\nfunction addActive() {\r\n  btnQueue.classList.remove('lib-btn-off');\r\n  btnQueue.classList.add('lib-btn-active');\r\n\r\n  btnWatched.classList.remove('lib-btn-active');\r\n  btnWatched.classList.add('lib-btn-off');\r\n}\r\n\r\nfunction onActive() {\r\n  btnWatched.classList.add('lib-btn-active');\r\n  btnWatched.classList.remove('lib-btn-off');\r\n\r\n  btnQueue.classList.add('lib-btn-off');\r\n  btnQueue.classList.remove('lib-btn-active');\r\n}\r\n","import refs from './refs';\r\n\r\nrefs.libraryBtn.addEventListener('click', toLibrary);\r\nrefs.homeBtn.addEventListener('click', toHome);\r\nrefs.logo.addEventListener('click', toHome);\r\n// header__wrapper header__wrapper--library\r\n\r\nfunction toLibrary(event) {\r\n  refs.header.classList.remove('header__wrapper');\r\n  refs.header.classList.add('header__wrapper--library');\r\n  refs.homeBtn.classList.remove('nav__link--current');\r\n  refs.libraryBtn.classList.add('nav__link--current');\r\n  refs.formWrap.classList.add('hide');\r\n  refs.containerBtnLibrary.classList.remove('hide');\r\n}\r\n\r\nfunction toHome(event) {\r\n  refs.header.classList.add('header__wrapper');\r\n  refs.header.classList.remove('header__wrapper--library');\r\n  refs.homeBtn.classList.add('nav__link--current');\r\n  refs.libraryBtn.classList.remove('nav__link--current');\r\n  refs.formWrap.classList.remove('hide');\r\n  refs.containerBtnLibrary.classList.add('hide');\r\n}\r\n","import { Spinner } from 'spin.js';\r\nimport refs from './refs';\r\n\r\nconst opts = {\r\n  lines: 13, // The number of lines to draw\r\n  length: 28, // The length of each line\r\n  width: 17, // The line thickness\r\n  radius: 34, // The radius of the inner circle\r\n  scale: 0.45, // Scales overall size of the spinner\r\n  corners: 0.7, // Corner roundness (0..1)\r\n  speed: 1, // Rounds per second\r\n  rotate: 1, // The rotation offset\r\n  animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\r\n  direction: 1, // 1: clockwise, -1: counterclockwise\r\n  color: '#000000', // CSS color or array of colors\r\n  fadeColor: 'transparent', // CSS color or array of colors\r\n  top: '0', // Top position relative to parent\r\n  left: '50%', // Left position relative to parent\r\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\r\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\r\n  className: 'spinner', // The CSS class to assign to the spinner\r\n  position: 'absolute', // Element positioning\r\n};\r\n\r\nconst opts2 = { ...opts, color: '#ffffff' };\r\n\r\nnew Spinner(opts).spin(refs.spinner);\r\nnew Spinner(opts2).spin(refs.spinnerInversion);\r\n\r\n","// Рендер модали футера\r\n\r\nimport MicroModal from 'micromodal';\r\n\r\nfunction footerModalHandler(selector) {\r\n  const studentsButton = document.querySelector(selector);\r\n\r\n  function onOpen() {\r\n    MicroModal.show('modal-footer', {\r\n      onShow: modal => console.info(`${modal.id} is shown`), // [1]\r\n      onClose: modal => console.info(`${modal.id} is hidden`), // [2]\r\n      disableScroll: true, // [6]\r\n      disableFocus: true, // [7]\r\n    });\r\n  }\r\n\r\n  studentsButton.addEventListener('click', () => onOpen(selector));\r\n}\r\n\r\nfooterModalHandler('.githubs');\r\n\r\nexport default footerModalHandler;\r\n","import refs from './refs';\r\nconst Theme = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nrefs.toolbar.addEventListener('change', changeTheme);\r\n\r\nfunction changeTheme() {\r\n  if (refs.stateCheckbox.checked) {\r\n    activeDarkTheme();\r\n    return;\r\n  }\r\n  activeLightTheme();\r\n}\r\n\r\nconst currentTheme = localStorage.getItem('Theme');\r\nif (currentTheme === Theme.DARK) {\r\n  refs.body.classList.add(Theme.DARK);\r\n  refs.footer.classList.add(Theme.DARK);\r\n  refs.modalThemeFilm.classList.add(Theme.DARK);\r\n  refs.modalThemeFooter.classList.add(Theme.DARK);\r\n\r\n  refs.stateCheckbox.checked = true;\r\n}\r\n\r\nfunction activeDarkTheme() {\r\n  refs.body.classList.add(Theme.DARK);\r\n  refs.body.classList.remove(Theme.LIGHT);\r\n  refs.footer.classList.add(Theme.DARK);\r\n  refs.footer.classList.remove(Theme.LIGHT);\r\n  refs.modalThemeFilm.classList.add(Theme.DARK);\r\n  refs.modalThemeFilm.classList.remove(Theme.LIGHT);\r\n  refs.modalThemeFooter.classList.add(Theme.DARK);\r\n  refs.modalThemeFooter.classList.remove(Theme.LIGHT);\r\n\r\n  localStorage.setItem('Theme', Theme.DARK);\r\n}\r\n\r\nfunction activeLightTheme() {\r\n  refs.body.classList.remove(Theme.DARK);\r\n  refs.body.classList.add(Theme.LIGHT);\r\n  refs.footer.classList.remove(Theme.DARK);\r\n  refs.footer.classList.add(Theme.LIGHT);\r\n  refs.modalThemeFilm.classList.remove(Theme.DARK);\r\n  refs.modalThemeFilm.classList.add(Theme.LIGHT);\r\n  refs.modalThemeFooter.classList.remove(Theme.DARK);\r\n  refs.modalThemeFooter.classList.add(Theme.LIGHT);\r\n\r\n  localStorage.setItem('Theme', Theme.LIGHT);\r\n}\r\n","import { addBackToTop } from 'vanilla-back-to-top';\r\n\r\n\r\n\r\naddBackToTop({\r\n  diameter: 56,\r\n  backgroundColor: '#ff6b08',\r\n  textColor: '#fff',\r\n  scrollDuration: 1000,\r\n  zIndex: 0,\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<li class=\\\"search-list-item\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":43}}}) : helper)))\n    + \">\\r\\n    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":22}}}) : helper)))\n    + \"\\r\\n</li>\\r\\n\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":7,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda(depth0, depth0))\n    + \" \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal__document\\\" role=\\\"document\\\">\\r\\n    <header class=\\\"modal__header\\\">\\r\\n        <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\" aria-controls=\\\"modal__container1\\\"\\r\\n            data-micromodal-close></button>\\r\\n        <img class=\\\"modal__img\\\" src='\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":37},\"end\":{\"line\":11,\"column\":52}}}) : helper)))\n    + \"' alt='poster \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":66},\"end\":{\"line\":11,\"column\":84}}}) : helper)))\n    + \"'>\\r\\n\\r\\n    </header>\\r\\n\\r\\n    <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\r\\n        <h2 class=\\\"modal__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":33},\"end\":{\"line\":16,\"column\":42}}}) : helper)))\n    + \"</h2>\\r\\n        <div class=\\\"modal__information\\\">\\r\\n            <table width=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"5\\\">\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Vote/Votes</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><span\\r\\n                            class=\\\"modal__information--block\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":65},\"end\":{\"line\":22,\"column\":81}}}) : helper)))\n    + \"</span> / \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":91},\"end\":{\"line\":22,\"column\":105}}}) : helper)))\n    + \"</b></td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Popularity</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":61},\"end\":{\"line\":26,\"column\":75}}}) : helper)))\n    + \"</b></td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Original Title</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":61},\"end\":{\"line\":30,\"column\":79}}}) : helper)))\n    + \"</b></td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Genre</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":61},\"end\":{\"line\":34,\"column\":95}}})) != null ? stack1 : \"\")\n    + \"</b></td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td><button data-action=\\\"open\\\" class=\\\"modal__button-trailer\\\">Watch trailer</button></td>\\r\\n                </tr>\\r\\n            </table>\\r\\n        </div>\\r\\n\\r\\n        <h3 class=\\\"modal__title2\\\"><b>About</b></h3>\\r\\n        <p class=\\\"modal__text\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":43,\"column\":34},\"end\":{\"line\":43,\"column\":46}}}) : helper)))\n    + \"</b></p>\\r\\n        <div class=\\\"modal__button-container\\\">\\r\\n            <button id=\\\"add-watched\\\" data-id='addwatched' class=\\\"modal__button1\\\">ADD TO WATCHED</button>\\r\\n            <button id=\\\"remove-watched\\\" data-id='removewatched' class=\\\"modal__button1 modal__button2 hide\\\">REMOVE FROM\\r\\n                WATCHED</button>\\r\\n            <button id=\\\"add-queue\\\" data-id='addqueue' class=\\\"modal__button1\\\">ADD TO QUEUE</button>\\r\\n            <button id=\\\"remove-queue\\\" data-id='removequeue' class=\\\"modal__button1 modal__button2 hide\\\">REMOVE FROM\\r\\n                QUEUE</button>\\r\\n        </div>\\r\\n    </main>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"trailer\\\">\\r\\n    <div class=\\\"trailer-backdrop\\\">\\r\\n        <div class=\\\"trailer-modal\\\">\\r\\n            <iframe class=\\\"video\\\" src=\\\"https://www.youtube.com/embed/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"idTrailer\") || (depth0 != null ? lookupProperty(depth0,\"idTrailer\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"idTrailer\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":58,\"column\":69},\"end\":{\"line\":58,\"column\":82}}}) : helper)))\n    + \"\\\" frameborder=\\\"0\\\" allowfullscreen>\\r\\n            </iframe>\\r\\n\\r\\n            <button data-action=\\\"close\\\" class=\\\"film-trailer-close\\\"></button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}