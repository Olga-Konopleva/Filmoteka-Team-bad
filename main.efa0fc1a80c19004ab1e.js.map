{"version":3,"sources":["webpack:///./js/btnActive.js","webpack:///./templates/gallery-item-template.hbs","webpack:///./js/refs.js","webpack:///./apiServises/api.js","webpack:///./js/modal-single-film.js","webpack:///./js/update-markup.js","webpack:///./js/Films-by-query.js","webpack:///./js/search-films.js","webpack:///./js/main.js","webpack:///./js/search-list.js","webpack:///./js/navigation.js","webpack:///./js/footer-modal-handler/footer-modal-handler.js","webpack:///./js/spinner.js","webpack:///./js/theme.js","webpack:///./js/pagination.js","webpack:///./templates/search-list.hbs","webpack:///./templates/modal.hbs"],"names":["btnWatched","document","querySelector","btnQueue","addEventListener","classList","remove","add","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","refs","searchForm","gallery","galleryContainer","searchList","input","libraryBtn","homeBtn","header","formWrap","containerBtnLibrary","logo","getElementById","buttonModal","divModal","spinner","body","footer","toolbar","stateCheckbox","paginator","apiKey","axios","defaults","baseURL","searchQuery","page","getUrl","urls","searchUrl","this","query","popylarFilmsUrl","getUpdatedFilms","url","getFullFilmsInfo","filmsData","films","map","updatedFilms","updateInfo","console","log","getFilmiIdList","idList","promises","id","get","Promise","all","getUpdatedPopularFilms","getFullPopularFilms","showFilmDetails","results","updateOneFilmInfo","updateFilm","release_date","slice","genres","name","original_title","toUpperCase","popularity","Math","floor","ceil","poster_path","filmIdList","reduce","filmsList","film","updateGenres","push","genresList","genre","index","search","resetPage","openModal","event","target","nodeName","dataset","localStorage","setItem","apiService","then","markup","filmTpl","insertAdjacentHTML","updateData","innerHTML","showModal","MicroModal","show","init","disableScroll","disableFocus","updateGalleryMarkup","filmCardTpl","showFilmsByQuery","api","finally","preventDefault","form","currentTarget","elements","value","textContent","debounce","filmList","length","updatedFilmList","searchListTpl","toHome","footerModalHandler","selector","Spinner","lines","width","radius","scale","corners","speed","rotate","animation","direction","color","fadeColor","top","left","shadow","zIndex","className","position","spin","onShow","modal","info","onClose","openTrigger","closeTrigger","openClass","awaitOpenAnimation","awaitCloseAnimation","debugMode","Theme","checked","getItem","pagination","Pagination","totalItems","itemsPerPage","visiblePages","centerAlign","firstItemClassName","lastItemClassName","currentPage","moveButton","moreButton","on","evt","lambda"],"mappings":"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","file":"main.efa0fc1a80c19004ab1e.js","sourcesContent":["const btnWatched = document.querySelector('.btnWatched');\r\nconst btnQueue = document.querySelector('.btnQueue');\r\n\r\nbtnQueue.addEventListener('click', addActive);\r\nbtnWatched.addEventListener('click', onActive);\r\n\r\nfunction addActive() {\r\n  btnQueue.classList.remove('lib-btn-off');\r\n  btnQueue.classList.add('lib-btn-active');\r\n\r\n  btnWatched.classList.remove('lib-btn-active');\r\n  btnWatched.classList.add('lib-btn-off');\r\n}\r\n\r\nfunction onActive() {\r\n  btnWatched.classList.add('lib-btn-active');\r\n  btnWatched.classList.remove('lib-btn-off');\r\n\r\n  btnQueue.classList.add('lib-btn-off');\r\n  btnQueue.classList.remove('lib-btn-active');\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"grid__item gallery__film\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":45},\"end\":{\"line\":2,\"column\":51}}}) : helper)))\n    + \">\\r\\n\\r\\n    <img class=\\\"gallery-film__image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":42},\"end\":{\"line\":4,\"column\":57}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":64},\"end\":{\"line\":4,\"column\":82}}}) : helper)))\n    + \"\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":92},\"end\":{\"line\":4,\"column\":98}}}) : helper)))\n    + \" />\\r\\n    <h3 class=\\\"gallery-film__title\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":44},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":51},\"end\":{\"line\":5,\"column\":69}}}) : helper)))\n    + \"</h3>\\r\\n    <p class=\\\"gallery-film__features\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":46},\"end\":{\"line\":6,\"column\":52}}}) : helper)))\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":53},\"end\":{\"line\":6,\"column\":63}}}) : helper)))\n    + \" | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":66},\"end\":{\"line\":6,\"column\":82}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n\\r\\n\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":11,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  gallery: document.querySelector('.js-gallery'),\r\n  galleryContainer: document.querySelector('.gallery__list'),\r\n  searchList: document.querySelector('.js-search-list'),\r\n  input: document.querySelector('.js-input'),\r\n  libraryBtn: document.querySelector('#libraryBtn'),\r\n  homeBtn: document.querySelector('#homeBtn'),\r\n  header: document.querySelector('#header'),\r\n  formWrap: document.querySelector('#formWrap'),\r\n  containerBtnLibrary: document.querySelector('#containerBtnLibrary'),\r\n  logo: document.getElementById('logo'),\r\n  buttonModal: document.querySelector('.btn-trigger'),\r\n  divModal: document.querySelector('.modal__container'),\r\n  spinner: document.querySelector('.spinner-js'),\r\n  body: document.querySelector('body'),\r\n  footer: document.querySelector('.footer'),\r\n  toolbar: document.querySelector('.toolbar'),\r\n  stateCheckbox: document.getElementById('theme-switch-toggle'),\r\n  paginator: document.getElementById('pagination'),\r\n};\r\n\r\nexport default refs;\r\n","import axios from 'axios';\r\n\r\nconst apiKey = '44fd846a8fbd886b31f763260ef2b77b';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\nexport default {\r\n  searchQuery: '',\r\n  page: 1,\r\n  // Функція повертає об'єкт url для основних запитів\r\n  getUrl() {\r\n    const urls = {};\r\n    urls.searchUrl = `/search/movie?api_key=44fd846a8fbd886b31f763260ef2b77b&language=en-US&query==${this.query}&page=${this.page}&include_adult=false`;\r\n    urls.popylarFilmsUrl = `/trending/movie/day?api_key=${apiKey}&page=${this.page}`;\r\n    return urls;\r\n  },\r\n\r\n  async getUpdatedFilms(url) {\r\n    try {\r\n      // отримуємо масив результатів запитів для отримання повної інформації про фільми\r\n      const filmsData = await this.getFullFilmsInfo(url);\r\n      // проходимося по отриманому масиві і вибираємо всі об'єкти з повною інформацією про фільми\r\n      const films = filmsData.map(({ data }) => data);\r\n      // Для кожного об'єкта оновлюємо необхідну в ньому інформацію\r\n      const updatedFilms = this.updateInfo(films);\r\n      console.log(updatedFilms);\r\n      return updatedFilms;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n  // Функція повертає всю інформацію по id фільма, знайденого за query\r\n  async getFullFilmsInfo(url) {\r\n    try {\r\n      // Вибираємо id всіх отриманих об'єктів масиву за певним запитом\r\n      const idList = await this.getFilmiIdList(url);\r\n      // для кожного об'єкта, за його id, робимо ще один запит для отримання повної інформації про фільм\r\n      const promises = idList.map(id =>\r\n        axios.get(`movie/${id}?api_key=${apiKey}&language=en-US`),\r\n      );\r\n      // отримуємо масив промісів з об'єктами, в яких є повна інформація про фільм\r\n      const films = await Promise.all(promises);\r\n      // Не знаю чи тут збільшується сторінка, вже голова не варить😃\r\n      this.page += 1;\r\n      return films;\r\n    } catch (error) {}\r\n  },\r\n\r\n  // getUpdatedPopularFilms -  вывод популярных фильмов за неделю\r\n  async getUpdatedPopularFilms() {\r\n    try {\r\n      const filmsData = await this.getFullPopularFilms();\r\n      const films = filmsData.map(({ data }) => data);\r\n      const updatedFilms = this.updateInfo(films);\r\n      return updatedFilms;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  //showFilmDetails(id) - показ детальной инфы о фильме при показе модалке, айдишник добавлен в ли каждого фильма data-id\r\n  async showFilmDetails(id) {\r\n    try {\r\n      const { data } = await axios.get(\r\n        `/movie/${id}?api_key=${apiKey}&language=en-US`,\r\n      );\r\n      const results = await data;\r\n      // console.log(results);\r\n      // const updateFilm = this.updateInfo(results);\r\n      return results;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  // Функція оновлює дані для одного фільма\r\n  updateOneFilmInfo(data) {\r\n    const updateFilm = { ...data };\r\n    // перетворюємо release_date в формат '***' (рік)\r\n    updateFilm.release_date = updateFilm.release_date.slice(0, -6);\r\n    // перетворюємо масив об'єктів з жанрами з формате [{ id: name},..., { id: name} ] в формат [name, ..., name]\r\n    updateFilm.genres = updateFilm.genres.map(({ name }) => name);\r\n    // Робимо заголовок великими\r\n    updateFilm.original_title = updateFilm.original_title.toUpperCase();\r\n    // Округлюємо популярність до десятих\r\n    updateFilm.popularity =\r\n      Math.floor(Math.ceil(updateFilm.popularity * 10)) / 10;\r\n    // додаємо змінені об'єкти в  масив\r\n    if (!updateFilm.poster_path) {\r\n      updateFilm.poster_path = `https://via.placeholder.com/274x398?text=THE+PICTURE+IS+WANTED`;\r\n    } else {\r\n      updateFilm.poster_path = `https://themoviedb.org/t/p/w220_and_h330_face/${data.poster_path}`;\r\n    }\r\n    return updateFilm;\r\n  },\r\n\r\n  // Функція повертає id всіх фільмів\r\n  async getFilmiIdList(url) {\r\n    try {\r\n      const { data } = await axios.get(url);\r\n      const { results } = await data;\r\n      const filmIdList = results.map(({ id }) => id);\r\n      return filmIdList;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  // Функція отримує масив об'єктів з повною інформацією про фільми, оновлює необхідні дані для ставки в шаблон і повертає новий масив об'єктів з необхідними даними\r\n  updateInfo(data) {\r\n    // проходимося по масиву об'єктів, для кожного об'єкта робимо необхідні зміни і додаємо їх в новий масив\r\n    const updatedInfo = data.reduce((filmsList, film) => {\r\n      // перетворюємо release_date в формат '***' (рік)\r\n      film.release_date = film.release_date.slice(0, -6);\r\n      // перетворюємо масив об'єктів з жанрами з формате [{ id: name},..., { id: name} ] в формат [name, ..., name]\r\n      // film.popularity = Math.floor(Math.ceil(film.popularity * 10)) / 10;\r\n\r\n      film.genres = this.updateGenres(film.genres);\r\n      // додаємо змінені об'єкти в  масив\r\n      // if (!film.backdrop_path) {\r\n      //   film.backdrop_path = `https://via.placeholder.com/274x398?text=THE+PICTURE+IS+WANTED`;\r\n      // } else {\r\n      //   film.backdrop_path = `https://themoviedb.org/t/p/w220_and_h330_face/${film.backdrop_path}`;\r\n      // }\r\n\r\n      if (!film.poster_path) {\r\n        film.poster_path = `https://via.placeholder.com/274x398?text=THE+PICTURE+IS+WANTED`;\r\n      } else {\r\n        film.poster_path = `https://themoviedb.org/t/p/w220_and_h330_face/${film.poster_path}`;\r\n      }\r\n      filmsList.push(film);\r\n      return filmsList;\r\n    }, []);\r\n    return updatedInfo;\r\n  },\r\n\r\n  // getImageSize(width, height) { }\r\n\r\n  //согласно макета если жанров 3 -высвечиваются все 3 жанра,если больше - 2 слова плюс Other\r\n  updateGenres(genres) {\r\n    const result = genres.reduce((genresList, genre, index) => {\r\n      const { name } = genre;\r\n      if (index === 3) {\r\n        const tooManyGenres = 'Other';\r\n        genresList[2] = tooManyGenres;\r\n        return genresList;\r\n      } else if (index > 3) {\r\n        return genresList;\r\n      }\r\n\r\n      genresList.push(name);\r\n      return genresList;\r\n    }, []);\r\n\r\n    return result;\r\n  },\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  },\r\n  set query(search) {\r\n    this.searchQuery = search;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import MicroModal from 'micromodal';\r\nimport filmTpl from '../templates/modal.hbs';\r\nimport refs from './refs';\r\nimport apiService from '../apiServises/api';\r\nrefs.gallery.addEventListener('click', openModal);\r\nMicroModal.init({\r\n  disableScroll: true, // [6]\r\n  disableFocus: true, // [7]\r\n});\r\nexport function openModal(event) {\r\n  if (\r\n    event.target.nodeName !== 'IMG' &&\r\n    event.target.nodeName !== 'LI' &&\r\n    event.target.nodeName !== 'H3' &&\r\n    event.target.nodeName !== 'P'\r\n  ) {\r\n    return;\r\n  }\r\n  showModal(event);\r\n  MicroModal.show('modal-1');\r\n}\r\nfunction showModal(event) {\r\n  const element = event.target;\r\n  const id = element.dataset.id;\r\n  localStorage.setItem('firebase-id', id);\r\n  // console.log(id);\r\n  apiService\r\n    .showFilmDetails(id)\r\n    .then(data => apiService.updateOneFilmInfo(data))\r\n    //  .then(console.log)\r\n    .then(data => updateData(data))\r\n    .then(openModal);\r\n  refs.divModal.innerHTML = '';\r\n}\r\nfunction updateData(data) {\r\n  const markup = filmTpl(data);\r\n  refs.divModal.insertAdjacentHTML('beforeend', markup);\r\n  return markup;\r\n}\r\n","import filmCardTpl from '../templates/gallery-item-template.hbs';\r\nimport refs from './refs';\r\n\r\nfunction updateGalleryMarkup(films) {\r\n  const markup = filmCardTpl(films);\r\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n  return markup;\r\n}\r\n\r\nexport default updateGalleryMarkup;\r\n","import updateGalleryMarkup from './update-markup';\r\nimport api from '../apiServises/api';\r\nimport refs from './refs';\r\n\r\nfunction showFilmsByQuery() {\r\n  api\r\n    .getUpdatedFilms(api.getUrl().searchUrl)\r\n    .then(films => updateGalleryMarkup(films))\r\n    .finally(() => {\r\n      refs.spinner.classList.add('hide');\r\n    });\r\n}\r\nexport default showFilmsByQuery;\r\n","import api from '../apiServises/api';\r\nimport showFilmsByQuery from './Films-by-query';\r\nimport refs from './refs';\r\nrefs.searchForm.addEventListener('submit', onFormSubmit);\r\n\r\nfunction onFormSubmit(event) {\r\n  event.preventDefault();\r\n  refs.searchList.classList.add('is-hidden');\r\n  const form = event.currentTarget;\r\n  api.query = form.elements.query.value;\r\n  refs.gallery.textContent = '';\r\n  refs.spinner.classList.remove('hide');\r\n  api.resetPage();\r\n  showFilmsByQuery();\r\n}\r\n","import apiService from '../apiServises/api';\r\nimport updateGalleryMarkup from './update-markup';\r\n\r\n// удалить(уточнить у Оли)\r\napiService\r\n  .getUpdatedFilms(apiService.getUrl().popylarFilmsUrl)\r\n  .then(updateGalleryMarkup);\r\n","import refs from './refs';\r\nimport debounce from 'lodash.debounce';\r\nimport api from '../apiServises/api';\r\nimport searchListTpl from '../templates/search-list.hbs';\r\n\r\nrefs.input.addEventListener('input', debounce(predicationSearch, 500));\r\n\r\nfunction predicationSearch () {\r\n    console.log('work');\r\n    api.searchQuery = refs.input.value;\r\n    \r\n    refs.searchList.innerHTML = '';\r\n    if(!refs.input.value) {\r\n        refs.searchList.classList.add('is-hidden');\r\n        return;\r\n    };\r\n    api.getUpdatedFilms(api.getUrl().searchUrl).then(filmList => {\r\n        refs.searchList.classList.remove('is-hidden');\r\n        if(!filmList.length) {\r\n            //вывести нотификашку\r\n            refs.searchList.classList.add('is-hidden');\r\n            return;\r\n        }\r\n        const updatedFilmList = filmList.slice(0,5);\r\n        const markup = searchListTpl(updatedFilmList);\r\n        refs.searchList.insertAdjacentHTML('beforeend', markup);\r\n    })\r\n\r\n}","import refs from './refs';\r\n\r\nrefs.libraryBtn.addEventListener('click', toLibrary);\r\nrefs.homeBtn.addEventListener('click', toHome);\r\nrefs.logo.addEventListener('click', toHome);\r\n// header__wrapper header__wrapper--library\r\n\r\nfunction toLibrary(event) {\r\n  refs.header.classList.remove('header__wrapper');\r\n  refs.header.classList.add('header__wrapper--library');\r\n  refs.homeBtn.classList.remove('nav__link--current');\r\n  refs.libraryBtn.classList.add('nav__link--current');\r\n  refs.formWrap.classList.add('hide');\r\n  refs.containerBtnLibrary.classList.remove('hide');\r\n}\r\n\r\nfunction toHome(event) {\r\n  refs.header.classList.add('header__wrapper');\r\n  refs.header.classList.remove('header__wrapper--library');\r\n  refs.homeBtn.classList.add('nav__link--current');\r\n  refs.libraryBtn.classList.remove('nav__link--current');\r\n  refs.formWrap.classList.remove('hide');\r\n  refs.containerBtnLibrary.classList.add('hide');\r\n}\r\n","// Рендер модали футера\r\n\r\nimport MicroModal from 'micromodal';\r\n\r\nMicroModal.init({\r\n  onShow: modal => console.info(`${modal.id} is shown`), // [1]\r\n  onClose: modal => console.info(`${modal.id} is hidden`), // [2]\r\n  openTrigger: 'data-custom-open', // [3]\r\n  closeTrigger: 'data-custom-close', // [4]\r\n  openClass: 'is-open', // [5]\r\n  disableScroll: true, // [6]\r\n  disableFocus: true, // [7]\r\n  awaitOpenAnimation: true, // [8]\r\n  awaitCloseAnimation: true, // [9]\r\n  debugMode: true, // [10]\r\n});\r\n\r\nfunction footerModalHandler(selector) {\r\n  const studentsButton = document.querySelector(selector);\r\n  function onOpen() {\r\n    MicroModal.show('modal-footer');\r\n  }\r\n  studentsButton.addEventListener('click', () => onOpen(selector));\r\n}\r\n\r\nfooterModalHandler('#students');\r\n\r\nexport default footerModalHandler;\r\n","import { Spinner } from 'spin.js';\r\nimport refs from './refs';\r\n\r\nconst opts = {\r\n  lines: 13, // The number of lines to draw\r\n  length: 28, // The length of each line\r\n  width: 17, // The line thickness\r\n  radius: 34, // The radius of the inner circle\r\n  scale: 0.45, // Scales overall size of the spinner\r\n  corners: 0.7, // Corner roundness (0..1)\r\n  speed: 1, // Rounds per second\r\n  rotate: 1, // The rotation offset\r\n  animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\r\n  direction: 1, // 1: clockwise, -1: counterclockwise\r\n  color: '#000000', // CSS color or array of colors\r\n  fadeColor: 'transparent', // CSS color or array of colors\r\n  top: '0', // Top position relative to parent\r\n  left: '50%', // Left position relative to parent\r\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\r\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\r\n  className: 'spinner', // The CSS class to assign to the spinner\r\n  position: 'absolute', // Element positioning\r\n};\r\n\r\nnew Spinner(opts).spin(refs.spinner);\r\n","import refs from './refs';\r\n\r\nconst Theme = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nrefs.toolbar.addEventListener('change', changeTheme);\r\n\r\nfunction changeTheme() {\r\n  if (refs.stateCheckbox.checked) {\r\n    refs.body.classList.add(Theme.DARK);\r\n    refs.body.classList.remove(Theme.LIGHT);\r\n    refs.footer.classList.add(Theme.DARK);\r\n    refs.footer.classList.remove(Theme.LIGHT);\r\n    localStorage.setItem('Theme', Theme.DARK);\r\n    return;\r\n  }\r\n\r\n  refs.body.classList.remove(Theme.DARK);\r\n  refs.body.classList.add(Theme.LIGHT);\r\n  refs.footer.classList.remove(Theme.DARK);\r\n  refs.footer.classList.add(Theme.LIGHT);\r\n  localStorage.setItem('Theme', Theme.LIGHT);\r\n}\r\n\r\nconst currentTheme = localStorage.getItem('Theme');\r\nif (currentTheme === Theme.DARK) {\r\n  refs.body.classList.add(Theme.DARK);\r\n  refs.footer.classList.add(Theme.DARK);\r\n  refs.stateCheckbox.checked = true;\r\n}\r\n","import Pagination from 'tui-pagination';\r\nimport 'tui-pagination/dist/tui-pagination.css';\r\nimport api from '../apiServises/api';\r\nimport refs from './refs';\r\nimport updateGalleryMarkup from './update-markup';\r\n\r\nconst options = {\r\n    totalItems: 200,\r\n    itemsPerPage: 9,\r\n    visiblePages: 6,\r\n    centerAlign: false,\r\n    firstItemClassName: 'tui-first-child',\r\n    lastItemClassName: 'tui-last-child',\r\n    template: {\r\n      page: '<a href=\"#\" class=\"tui-page-btn paginator-page\">{{page}}</a>',\r\n      currentPage:\r\n        '<strong class=\"tui-page-btn tui-is-selected paginator-page\">{{page}}</strong>',\r\n      moveButton:\r\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}} paginator-page\">' +\r\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\r\n        '</a>',\r\n      moreButton:\r\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip paginator-page\">' +\r\n        '<span class=\"tui-ico-ellip\">...</span>' +\r\n        '</a>',\r\n    },\r\n  };\r\n  const pagination = new Pagination(refs.paginator, options);\r\n  pagination.on('beforeMove', function (evt) {\r\n    const currentPage = evt.page;\r\n    refs.gallery.textContent = '';\r\n    api.page += 1;\r\n  });\r\n  pagination.on('afterMove', function (evt) {\r\n    const currentPage = evt.page;\r\n    api\r\n      .getUpdatedFilms(api.getUrl().popylarFilmsUrl)\r\n      .then(films => updateGalleryMarkup(films));\r\n    console.log(currentPage);\r\n  });\r\n\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"search-list-item\\\" data-id:\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":43}}}) : helper)))\n    + \">\\r\\n    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":4},\"end\":{\"line\":3,\"column\":22}}}) : helper)))\n    + \"\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":5,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda(depth0, depth0))\n    + \" \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal__document\\\" role=\\\"document\\\">\\r\\n    <header class=\\\"modal__header\\\">\\r\\n        <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\" aria-controls=\\\"modal__container1\\\"\\r\\n            data-micromodal-close></button>\\r\\n\\r\\n        <img class=\\\"modal__img\\\" src='\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":37},\"end\":{\"line\":6,\"column\":52}}}) : helper)))\n    + \"' alt='poster \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":66},\"end\":{\"line\":6,\"column\":84}}}) : helper)))\n    + \"'>\\r\\n\\r\\n    </header>\\r\\n\\r\\n    <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\r\\n        <h2 class=\\\"modal__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":33},\"end\":{\"line\":11,\"column\":42}}}) : helper)))\n    + \"</h2>\\r\\n        <div class=\\\"modal__information\\\">\\r\\n            <table width=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"5\\\">\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Vote/Votes</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><span\\r\\n                            class=\\\"modal__information--block\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":65},\"end\":{\"line\":17,\"column\":81}}}) : helper)))\n    + \"</span> / \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":91},\"end\":{\"line\":17,\"column\":105}}}) : helper)))\n    + \"</b></td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Popularity</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":61},\"end\":{\"line\":21,\"column\":75}}}) : helper)))\n    + \"</b></td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Original Title</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":61},\"end\":{\"line\":25,\"column\":79}}}) : helper)))\n    + \"</b></td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td class=\\\"modal__information--text1\\\">Genre</td>\\r\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":61},\"end\":{\"line\":29,\"column\":95}}})) != null ? stack1 : \"\")\n    + \"</b></td>\\r\\n                </tr>\\r\\n            </table>\\r\\n        </div>\\r\\n\\r\\n        <h3 class=\\\"modal__title2\\\"><b>About</b></h3>\\r\\n        <p class=\\\"modal__text\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":35,\"column\":34},\"end\":{\"line\":35,\"column\":46}}}) : helper)))\n    + \"</b></p>\\r\\n\\r\\n        <button id=\\\"add-watched\\\" class=\\\"modal__button\\\">ADD TO WATCHED</button>\\r\\n        <button id=\\\"remove-watched\\\" class=\\\"modal__button hide\\\">REMOVE FROM WATCHED</button>\\r\\n        <button id=\\\"add-queue\\\" class=\\\"modal__button\\\">ADD TO QUEUE</button>\\r\\n        <button id=\\\"remove-queue\\\" class=\\\"modal__button hide\\\">REMOVE FROM QUEUE</button>\\r\\n    </main>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}