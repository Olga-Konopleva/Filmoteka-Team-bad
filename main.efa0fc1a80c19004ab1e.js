(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"BG/t":function(e,t){var n=document.querySelector(".btnWatched"),a=document.querySelector(".btnQueue");a.addEventListener("click",(function(){a.classList.remove("lib-btn-off"),a.classList.add("lib-btn-active"),n.classList.remove("lib-btn-active"),n.classList.add("lib-btn-off")})),n.addEventListener("click",(function(){n.classList.add("lib-btn-active"),n.classList.remove("lib-btn-off"),a.classList.add("lib-btn-off"),a.classList.remove("lib-btn-active")}))},"Dv/5":function(e,t,n){},JKDa:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var l,o=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="grid__item gallery__film" data-id='+c(typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:i)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:2,column:45},end:{line:2,column:51}}}):l)+'>\r\n\r\n    <img class="gallery-film__image" src="'+c(typeof(l=null!=(l=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?l:i)===s?l.call(o,{name:"poster_path",hash:{},data:r,loc:{start:{line:4,column:42},end:{line:4,column:57}}}):l)+'" alt="'+c(typeof(l=null!=(l=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?l:i)===s?l.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:4,column:64},end:{line:4,column:82}}}):l)+'" data-id='+c(typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:i)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:4,column:92},end:{line:4,column:98}}}):l)+' />\r\n    <h3 class="gallery-film__title" data-id='+c(typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:i)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:5,column:44},end:{line:5,column:50}}}):l)+">"+c(typeof(l=null!=(l=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?l:i)===s?l.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:5,column:51},end:{line:5,column:69}}}):l)+'</h3>\r\n    <p class="gallery-film__features" data-id='+c(typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:i)===s?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:6,column:46},end:{line:6,column:52}}}):l)+">"+c(typeof(l=null!=(l=u(n,"genres")||(null!=t?u(t,"genres"):t))?l:i)===s?l.call(o,{name:"genres",hash:{},data:r,loc:{start:{line:6,column:53},end:{line:6,column:63}}}):l)+" | "+c(typeof(l=null!=(l=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?l:i)===s?l.call(o,{name:"release_date",hash:{},data:r,loc:{start:{line:6,column:66},end:{line:6,column:82}}}):l)+"\r\n    </p>\r\n\r\n\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:11,column:9}}}))?l:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("Dv/5");var a=n("jmNG"),r=n("s9S4"),l=n.n(r),o={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".js-gallery"),galleryContainer:document.querySelector(".gallery__list"),searchList:document.querySelector(".js-search-list"),input:document.querySelector(".js-input"),libraryBtn:document.querySelector("#libraryBtn"),homeBtn:document.querySelector("#homeBtn"),header:document.querySelector("#header"),formWrap:document.querySelector("#formWrap"),containerBtnLibrary:document.querySelector("#containerBtnLibrary"),logo:document.getElementById("logo"),buttonModal:document.querySelector(".btn-trigger"),divModal:document.querySelector(".modal__container"),spinner:document.querySelector(".spinner-js"),body:document.querySelector("body"),footer:document.querySelector(".footer"),toolbar:document.querySelector(".toolbar"),stateCheckbox:document.getElementById("theme-switch-toggle"),paginator:document.getElementById("pagination")},i=(n("/YXa"),n("lmye"),n("x3Br"),n("WB5j"),n("D/wG"),n("wCa+"),n("JBxO"),n("FdtR"),n("WoWj"),n("U00V"),n("wcNg"),n("czhI")),s=n.n(i);function c(e,t,n,a,r,l,o){try{var i=e[l](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function o(e){c(l,a,r,o,i,"next",e)}function i(e){c(l,a,r,o,i,"throw",e)}o(void 0)}))}}var d="44fd846a8fbd886b31f763260ef2b77b";s.a.defaults.baseURL="https://api.themoviedb.org/3";var p={searchQuery:"",page:1,getUrl:function(){var e={};return e.searchUrl="/search/movie?api_key=44fd846a8fbd886b31f763260ef2b77b&language=en-US&query=="+this.query+"&page="+this.page+"&include_adult=false",e.popylarFilmsUrl="/trending/movie/day?api_key="+d+"&page="+this.page,e},getUpdatedFilms:function(e){var t=this;return u(regeneratorRuntime.mark((function n(){var a,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.getFullFilmsInfo(e);case 3:return a=n.sent,r=a.map((function(e){return e.data})),l=t.updateInfo(r),console.log(l),n.abrupt("return",l);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},getFullFilmsInfo:function(e){var t=this;return u(regeneratorRuntime.mark((function n(){var a,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.getFilmiIdList(e);case 3:return a=n.sent,r=a.map((function(e){return s.a.get("movie/"+e+"?api_key="+d+"&language=en-US")})),n.next=7,Promise.all(r);case 7:return l=n.sent,t.page+=1,n.abrupt("return",l);case 12:n.prev=12,n.t0=n.catch(0);case 14:case"end":return n.stop()}}),n,null,[[0,12]])})))()},getUpdatedPopularFilms:function(){var e=this;return u(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getFullPopularFilms();case 3:return n=t.sent,a=n.map((function(e){return e.data})),r=e.updateInfo(a),t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showFilmDetails:function(e){return u(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("/movie/"+e+"?api_key="+d+"&language=en-US");case 3:return n=t.sent,a=n.data,t.next=7,a;case 7:return r=t.sent,t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},updateOneFilmInfo:function(e){var t=Object.assign({},e);return t.release_date=t.release_date.slice(0,-6),t.genres=t.genres.map((function(e){return e.name})),t.original_title=t.original_title.toUpperCase(),t.popularity=Math.floor(Math.ceil(10*t.popularity))/10,t.poster_path?t.poster_path="https://themoviedb.org/t/p/w220_and_h330_face/"+e.poster_path:t.poster_path="https://via.placeholder.com/274x398?text=THE+PICTURE+IS+WANTED",t},getFilmiIdList:function(e){return u(regeneratorRuntime.mark((function t(){var n,a,r,l,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get(e);case 3:return n=t.sent,a=n.data,t.next=7,a;case 7:return r=t.sent,l=r.results,o=l.map((function(e){return e.id})),t.abrupt("return",o);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},updateInfo:function(e){var t=this;return e.reduce((function(e,n){return n.release_date=n.release_date.slice(0,-6),n.genres=t.updateGenres(n.genres),n.poster_path?n.poster_path="https://themoviedb.org/t/p/w220_and_h330_face/"+n.poster_path:n.poster_path="https://via.placeholder.com/274x398?text=THE+PICTURE+IS+WANTED",e.push(n),e}),[])},updateGenres:function(e){return e.reduce((function(e,t,n){var a=t.name;if(3===n){return e[2]="Other",e}return n>3||e.push(a),e}),[])},get query(){return this.searchQuery},set query(e){this.searchQuery=e},resetPage:function(){this.page=1}};function m(e){"IMG"!==e.target.nodeName&&"LI"!==e.target.nodeName&&"H3"!==e.target.nodeName&&"P"!==e.target.nodeName||(!function(e){var t=e.target.dataset.id;localStorage.setItem("firebase-id",t),p.showFilmDetails(t).then((function(e){return p.updateOneFilmInfo(e)})).then((function(e){return function(e){var t=l()(e);return o.divModal.insertAdjacentHTML("beforeend",t),t}(e)})).then(m),o.divModal.innerHTML=""}(e),a.a.show("modal-1"))}o.gallery.addEventListener("click",m),a.a.init({disableScroll:!0,disableFocus:!0});n("QDHd");var h=n("JKDa"),f=n.n(h);var g=function(e){var t=f()(e);return o.gallery.insertAdjacentHTML("beforeend",t),t};var v=function(){p.getUpdatedFilms(p.getUrl().searchUrl).then((function(e){return g(e)})).finally((function(){o.spinner.classList.add("hide")}))};o.searchForm.addEventListener("submit",(function(e){e.preventDefault(),o.searchList.classList.add("is-hidden");var t=e.currentTarget;p.query=t.elements.query.value,o.gallery.textContent="",o.spinner.classList.remove("hide"),p.resetPage(),v()})),p.getUpdatedFilms(p.getUrl().popylarFilmsUrl).then(g);var _=n("jffb"),b=n.n(_),y=n("itA4"),L=n.n(y);o.input.addEventListener("input",b()((function(){if(console.log("work"),p.searchQuery=o.input.value,o.searchList.innerHTML="",!o.input.value)return void o.searchList.classList.add("is-hidden");p.getUpdatedFilms(p.getUrl().searchUrl).then((function(e){if(o.searchList.classList.remove("is-hidden"),e.length){var t=e.slice(0,5),n=L()(t);o.searchList.insertAdjacentHTML("beforeend",n)}else o.searchList.classList.add("is-hidden")}))}),500));n("BG/t");function w(e){o.header.classList.add("header__wrapper"),o.header.classList.remove("header__wrapper--library"),o.homeBtn.classList.add("nav__link--current"),o.libraryBtn.classList.remove("nav__link--current"),o.formWrap.classList.remove("hide"),o.containerBtnLibrary.classList.add("hide")}o.libraryBtn.addEventListener("click",(function(e){o.header.classList.remove("header__wrapper"),o.header.classList.add("header__wrapper--library"),o.homeBtn.classList.remove("nav__link--current"),o.libraryBtn.classList.add("nav__link--current"),o.formWrap.classList.add("hide"),o.containerBtnLibrary.classList.remove("hide")})),o.homeBtn.addEventListener("click",w),o.logo.addEventListener("click",w);function x(e){document.querySelector(e).addEventListener("click",(function(){a.a.show("modal-footer")}))}new(n("ZEAl").a)({lines:13,length:28,width:17,radius:34,scale:.45,corners:.7,speed:1,rotate:1,animation:"spinner-line-fade-quick",direction:1,color:"#000000",fadeColor:"transparent",top:"0",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"}).spin(o.spinner),a.a.init({onShow:function(e){return console.info(e.id+" is shown")},onClose:function(e){return console.info(e.id+" is hidden")},openTrigger:"data-custom-open",closeTrigger:"data-custom-close",openClass:"is-open",disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!0,awaitCloseAnimation:!0,debugMode:!0}),x("#students");var k="light-theme",E="dark-theme";o.toolbar.addEventListener("change",(function(){if(o.stateCheckbox.checked)return o.body.classList.add(E),o.body.classList.remove(k),o.footer.classList.add(E),o.footer.classList.remove(k),void localStorage.setItem("Theme",E);o.body.classList.remove(E),o.body.classList.add(k),o.footer.classList.remove(E),o.footer.classList.add(k),localStorage.setItem("Theme",k)})),localStorage.getItem("Theme")===E&&(o.body.classList.add(E),o.footer.classList.add(E),o.stateCheckbox.checked=!0);var S=n("2c84"),U=n.n(S),q=(n("lUE2"),new U.a(o.paginator,{totalItems:200,itemsPerPage:9,visiblePages:6,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn paginator-page">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected paginator-page">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}} paginator-page"><span class="tui-ico-{{type}}">{{type}}</span></a>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip paginator-page"><span class="tui-ico-ellip">...</span></a>'}}));q.on("beforeMove",(function(e){e.page;o.gallery.textContent="",p.page+=1})),q.on("afterMove",(function(e){var t=e.page;p.getUpdatedFilms(p.getUrl().popylarFilmsUrl).then((function(e){return g(e)})),console.log(t)}))},itA4:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var l,o=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="search-list-item" data-id:'+s("function"==typeof(l=null!=(l=c(n,"id")||(null!=t?c(t,"id"):t))?l:i)?l.call(o,{name:"id",hash:{},data:r,loc:{start:{line:2,column:37},end:{line:2,column:43}}}):l)+">\r\n    "+s("function"==typeof(l=null!=(l=c(n,"original_title")||(null!=t?c(t,"original_title"):t))?l:i)?l.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:3,column:4},end:{line:3,column:22}}}):l)+"\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:5,column:9}}}))?l:""},useData:!0})},s9S4:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){return e.escapeExpression(e.lambda(t,t))+" "},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var l,o,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal__document" role="document">\r\n    <header class="modal__header">\r\n        <button class="modal__close" aria-label="Close modal" aria-controls="modal__container1"\r\n            data-micromodal-close></button>\r\n\r\n        <img class="modal__img" src=\''+u(typeof(o=null!=(o=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?o:s)===c?o.call(i,{name:"poster_path",hash:{},data:r,loc:{start:{line:6,column:37},end:{line:6,column:52}}}):o)+"' alt='poster "+u(typeof(o=null!=(o=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?o:s)===c?o.call(i,{name:"original_title",hash:{},data:r,loc:{start:{line:6,column:66},end:{line:6,column:84}}}):o)+'\'>\r\n\r\n    </header>\r\n\r\n    <main class="modal__content" id="modal-1-content">\r\n        <h2 class="modal__title">'+u(typeof(o=null!=(o=d(n,"title")||(null!=t?d(t,"title"):t))?o:s)===c?o.call(i,{name:"title",hash:{},data:r,loc:{start:{line:11,column:33},end:{line:11,column:42}}}):o)+'</h2>\r\n        <div class="modal__information">\r\n            <table width="100%" cellspacing="0" cellpadding="5">\r\n                <tr>\r\n                    <td class="modal__information--text1">Vote/Votes</td>\r\n                    <td class="modal__information--text2"><span\r\n                            class="modal__information--block"><b>'+u(typeof(o=null!=(o=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?o:s)===c?o.call(i,{name:"vote_average",hash:{},data:r,loc:{start:{line:17,column:65},end:{line:17,column:81}}}):o)+"</span> / "+u(typeof(o=null!=(o=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?o:s)===c?o.call(i,{name:"vote_count",hash:{},data:r,loc:{start:{line:17,column:91},end:{line:17,column:105}}}):o)+'</b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="modal__information--text1">Popularity</td>\r\n                    <td class="modal__information--text2"><b>'+u(typeof(o=null!=(o=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?o:s)===c?o.call(i,{name:"popularity",hash:{},data:r,loc:{start:{line:21,column:61},end:{line:21,column:75}}}):o)+'</b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="modal__information--text1">Original Title</td>\r\n                    <td class="modal__information--text2"><b>'+u(typeof(o=null!=(o=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?o:s)===c?o.call(i,{name:"original_title",hash:{},data:r,loc:{start:{line:25,column:61},end:{line:25,column:79}}}):o)+'</b></td>\r\n                </tr>\r\n                <tr>\r\n                    <td class="modal__information--text1">Genre</td>\r\n                    <td class="modal__information--text2"><b>'+(null!=(l=d(n,"each").call(i,null!=t?d(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:29,column:61},end:{line:29,column:95}}}))?l:"")+'</b></td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n\r\n        <h3 class="modal__title2"><b>About</b></h3>\r\n        <p class="modal__text"><b>'+u(typeof(o=null!=(o=d(n,"overview")||(null!=t?d(t,"overview"):t))?o:s)===c?o.call(i,{name:"overview",hash:{},data:r,loc:{start:{line:35,column:34},end:{line:35,column:46}}}):o)+'</b></p>\r\n\r\n        <button id="add-watched" class="modal__button">ADD TO WATCHED</button>\r\n        <button id="remove-watched" class="modal__button hide">REMOVE FROM WATCHED</button>\r\n        <button id="add-queue" class="modal__button">ADD TO QUEUE</button>\r\n        <button id="remove-queue" class="modal__button hide">REMOVE FROM QUEUE</button>\r\n    </main>\r\n</div>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.efa0fc1a80c19004ab1e.js.map